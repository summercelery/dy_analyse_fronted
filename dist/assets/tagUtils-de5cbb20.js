const i=r=>{if(!r)return[];try{const e=JSON.parse(r);return Array.isArray(e)?e.filter(s=>s&&s.trim()):[]}catch{try{return r.split(",").filter(s=>s&&s.trim())}catch(s){return console.error("解析标签失败:",s),[]}}},a=r=>Array.isArray(r)?JSON.stringify(r.filter(e=>e&&e.trim())):"[]",t=r=>{if(!r||typeof r!="string")return!1;const e=r.trim();return e.length>0&&e.length<=20},n=r=>{if(!Array.isArray(r))return{valid:!1,message:"标签必须是数组格式"};if(r.length===0)return{valid:!0,message:""};if(r.length>10)return{valid:!1,message:"标签数量不能超过10个"};for(let e=0;e<r.length;e++)if(!t(r[e]))return{valid:!1,message:`第${e+1}个标签无效，长度应在1-20个字符之间`};return{valid:!0,message:""}},l=(r,e)=>!Array.isArray(r)||!e?!1:r.some(s=>s.toLowerCase()===e.toLowerCase());export{l as a,t as i,i as p,a as s,n as v};
