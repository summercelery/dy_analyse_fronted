import{_ as xa}from"./_plugin-vue_export-helper-d6af9df2.js";/* empty css                  *//* empty css                       *//* empty css                     */import{p as vt}from"./tagUtils-de5cbb20.js";/* empty css                     */import{H as Va,v as vl}from"./index.esm.min-ebfc7aa3.js";/* empty css                *//* empty css                        */import{n as Y,p as Da,u as Ia,a as Aa,r as f,q as Ea,s as Ma,o as u,c as p,d as l,e as a,w as o,t as r,v as g,h as c,F as K,x as we,y,z as M,A as C,g as ml,B as m,C as De,D as $a,G as Fa,H as za,I as Ua,k as La,J as Na,K as Pa,i as Ba,L as Ra,M as Oa,N as qa,O as Ha,P as Ft,Q as Ya,R as ja,S as pl,T as Ga,U as fl,V as mt,W as gl,X as pt,Y as zt,Z as Wa,_ as Ut,$ as Ja,f as Ka,a0 as _l,a1 as Qa,a2 as hl,a3 as Xa,a4 as Za,a5 as es,a6 as ts,a7 as yl,a8 as ls,a9 as ft,aa as as,ab as wl,ac as ss,ad as os,ae as ns,af as is,ag as rs,ah as us,ai as ds,aj as cs,ak as vs,al as ms,am as ps,an as fs,ao as gs,ap as _s,j as hs,aq as ys,ar as ws,l as Cs,as as ks,at as bs,au as Ss,av as Ts,aw as xs,ax as Vs,ay as Ds}from"./index-0e04f23d.js";import{m as Cl}from"./music-68e2a04f.js";import{a as Is}from"./author-db9e45f3.js";import{f as Lt}from"./favorite-ea945121.js";import{u as As,i as Es,a as Ms,b as $s,c as Fs,d as zs,e as Us}from"./install-6e609d49.js";const j={getMonitorList(T={}){return Y({url:"/monitor/list",method:"get",params:T,paramsSerializer:{serialize:k=>{const Q=new URLSearchParams;return Object.keys(k).forEach(z=>{const N=k[z];Array.isArray(N)?Q.append(z,JSON.stringify(N)):N!=null&&Q.append(z,N)}),Q.toString()}}})},addMonitor(T){return Y({url:"/monitor/add",method:"post",data:T})},updateStatus(T,k){return Y({url:`/monitor/status/${T}`,method:"put",data:k})},deleteMonitor(T){return Y({url:`/monitor/${T}`,method:"delete"})},uploadExcel(T){return Y({url:"/monitor/upload/excel",method:"post",data:T,headers:{"Content-Type":"multipart/form-data"}})},uploadExcelAsync(T){return Y({url:"/monitor/upload/excel/async",method:"post",data:T,headers:{"Content-Type":"multipart/form-data"}})},getTaskProgress(T){return Y({url:`/import-task/${T}/progress`,method:"get"})},getTaskDetails(T){return Y({url:`/import-task/${T}`,method:"get"})},getUserTasks(T=10){return Y({url:`/import-task/list?limit=${T}`,method:"get"})},getMonitorStatistics(T){return Y({url:"/monitor/statistics",method:"get",params:T,paramsSerializer:{serialize:k=>{const Q=new URLSearchParams;return Object.keys(k).forEach(z=>{const N=k[z];Array.isArray(N)?Q.append(z,JSON.stringify(N)):N!=null&&Q.append(z,N)}),Q.toString()}}})},getMonitorTags(T){return Y({url:"/monitor/tags",method:"get",params:{musicId:T}})},getMonitorChannels(T){return Y({url:"/monitor/channels",method:"get",params:{musicId:T}})},updateCustomSelection(T){return Y({url:"/monitor/custom-selection",method:"put",data:T})},getVideoInvestments(T){return Y({url:`/investment/video/${T}`,method:"get"})},deleteHotspotAlert(T){return Y({url:`/hotspot-alert/${T}`,method:"delete"})}};const Ls={class:"monitor-layout"},Ns={class:"header"},Ps={class:"header-right"},Bs={class:"user-info"},Rs={class:"username"},Os={class:"main-container"},qs={class:"sidebar"},Hs={class:"content"},Ys={class:"page-header"},js={key:0,class:"page-title-section"},Gs={class:"page-title"},Ws={class:"music-meta"},Js={class:"page-meta"},Ks={key:0},Qs={key:0,class:"stats-row"},Xs={class:"stat-icon"},Zs={class:"stat-info"},eo={class:"stat-value"},to={class:"stat-icon"},lo={class:"stat-info"},ao={class:"stat-value"},so={class:"stat-icon"},oo={class:"stat-info"},no={class:"stat-value"},io={class:"stat-icon"},ro={class:"stat-info"},uo={class:"stat-value"},co={class:"stat-icon"},vo={class:"stat-info"},mo={class:"stat-value"},po={key:1,class:"section-divider"},fo={key:2,class:"toolbar"},go={key:0,class:"hotspot-toolbar-layout"},_o={class:"hotspot-main-row"},ho={class:"toolbar-left"},yo={class:"toolbar-right"},wo={class:"hotspot-main-controls"},Co={key:1,class:"normal-toolbar-layout"},ko={class:"normal-main-row"},bo={class:"toolbar-left"},So={class:"toolbar-right"},To={class:"normal-main-controls"},xo={key:3,class:"tag-filter-section"},Vo={class:"tag-filter-row"},Do={class:"tag-filter-content"},Io={key:0,class:"filter-group"},Ao={class:"tag-count"},Eo={key:1,class:"filter-group"},Mo={class:"tag-count"},$o={class:"card-header"},Fo={class:"header-actions"},zo={key:0,class:"no-music-selected"},Uo={key:1},Lo={class:"expand-content"},No={class:"time-text"},Po={class:"growth-detail"},Bo={class:"growth-rate"},Ro={class:"growth-count"},Oo={class:"growth-detail"},qo={class:"growth-rate"},Ho={class:"growth-count"},Yo={class:"growth-detail"},jo={class:"growth-rate"},Go={class:"growth-count"},Wo={class:"growth-detail"},Jo={class:"growth-rate"},Ko={class:"growth-count"},Qo={class:"expand-actions"},Xo={class:"custom-icon-cell"},Zo={class:"video-id"};const en={class:"video-desc"},tn={class:"desc-text"},ln={key:1,class:"na-text"},an={class:"author-name"},sn={key:0,class:"hashtag-list"},on={key:1,class:"na-text"},nn={class:"alert-stats"},rn={class:"total-alerts"},un={class:"level-stats"},dn={class:"trigger-score"},cn={class:"video-remark"},vn={class:"remark-text"},mn={key:1,class:"na-text"},pn={class:"total-investment"},fn={key:0,class:"investment-amount"},gn={key:1,class:"na-text"},_n={key:0,class:"search-tag-list"},hn={key:1,class:"na-text"},yn={key:0,class:"search-channel-list"},wn={key:1,class:"na-text"},Cn={key:0,class:"stats-preview"},kn={class:"stats-item"},bn={class:"stats-item"},Sn={key:1,class:"na-text"},Tn={class:"publish-time"},xn={class:"create-time"},Vn={class:"table-actions"},Dn={key:0,class:"pagination-container"},In={style:{"line-height":"1.6"}},An={style:{margin:"8px 0"}},En={class:"music-info-display"},Mn={class:"music-title"},$n={key:0,class:"music-album"},Fn={key:1,class:"music-tags"},zn={class:"music-info-display"},Un={class:"task-progress-container"},Ln={class:"task-info"},Nn={class:"progress-section"},Pn={key:0,class:"progress-stats"},Bn={class:"task-stats-row"},Rn={class:"task-stats-row"},On={style:{color:"#67c23a"}},qn={style:{color:"#909399"}},Hn={style:{color:"#f56c6c"}},Yn={key:0,class:"processing-tip"},jn={key:1,class:"completed-message"},Gn={key:2,class:"failed-message"},Wn={class:"stats-dialog-content"},Jn={class:"stats-header"},Kn={class:"video-info"},Qn={class:"video-id-value"},Xn={class:"time-range-selector"},Zn={class:"stats-content"},ei={key:0,class:"stats-grid"},ti={class:"stat-info"},li={class:"stat-value"},ai={key:0,class:"stat-trend"},si={class:"stat-icon"},oi={class:"stat-info"},ni={class:"stat-value"},ii={key:0,class:"stat-trend"},ri={class:"stat-icon"},ui={class:"stat-info"},di={class:"stat-value"},ci={key:0,class:"stat-trend"},vi={class:"stat-icon"},mi={class:"stat-info"},pi={class:"stat-value"},fi={key:0,class:"stat-trend"},gi={class:"card-header"},_i={class:"chart-legend"},hi={class:"chart-container"},yi={key:1,class:"empty-chart"},wi={key:0,class:"author-info-dialog"},Ci={class:"author-avatar-section"},ki={class:"author-basic-info"},bi={class:"user-id"},Si={class:"author-stats"},Ti={class:"stat-item"},xi={class:"stat-item"},Vi={key:0,class:"author-details"},Di={class:"author-description"},Ii={class:"color-picker-container"},Ai={class:"custom-selection-content"},Ei={key:0,class:"video-info-section"},Mi={class:"video-title"},$i={class:"description-section"},Fi={class:"investment-section"},zi={key:0,class:"loading-tip"},Ui={key:0},Li={class:"investment-row"},Ni={class:"action-buttons"},Pi={key:1,class:"no-investment-records"},Bi={key:0,class:"simple-alert-content"},Ri={class:"alert-info-section"},Oi={class:"info-row"},qi={class:"info-value"},Hi={class:"info-row"},Yi={class:"info-value"},ji={class:"info-row"},Gi={class:"info-row"},Wi={class:"info-row"},Ji={class:"info-row"},Ki={class:"data-section"},Qi={class:"data-rows"},Xi={class:"data-row"},Zi={class:"data-stats"},er={class:"baseline"},tr={class:"current"},lr={class:"growth positive"},ar={class:"data-row"},sr={class:"data-stats"},or={class:"baseline"},nr={class:"current"},ir={class:"growth positive"},rr={class:"data-row"},ur={class:"data-stats"},dr={class:"baseline"},cr={class:"current"},vr={class:"growth positive"},mr={class:"data-row"},pr={class:"data-stats"},fr={class:"baseline"},gr={class:"current"},_r={class:"growth positive"},hr={__name:"Monitor",setup(T){As([Es,Ms,$s,Fs,zs,Us]);const k=Da(),Q=Ia(),z=Aa(),N=f(!1),gt=f(!1),_t=f([]),Ce=f(""),se=f([]),kl=f([]),V=f(null),P=f(null),X=f([]),ke=f([]),Z=f([]),be=f([]),Ie=f("diggCount"),Ae=f("desc"),H=f(!1),oe=f(""),ne=f(""),ve=f(""),me=f(""),B=f(1),Le=f(10),ht=f(0),re=f({totalCount:0,manualCount:0,autoCount:0,abnormalCount:0,hotspotAlertCount:0}),Se=f(!1),Ee=f(!1),Je=f(!1),yt=f(!1),Te=f("single"),L=f({videoUrl:"",file:null}),$=f({id:null,fileName:"",status:"PENDING",progress:0,totalCount:0,processedCount:0,successCount:0,skipCount:0,errorCount:0}),ae=f(null),Ne=f(!1),wt=f(!1),Pe=f({email:""}),Ke=f(!1),Qe=f(!1),Be=f(null),xe=f(null),Xe=f("7"),Re=f(null),Ze=f(null),U=f({digg:0,comment:0,collect:0,share:0}),R=f({likes:!0,comments:!0,collects:!0,shares:!0}),et=f(!1),tt=f(!1),D=f(null),Me=f(!1),ie=f(!1),Oe=f(!1),Ct=f(null),G=f({channelType:"",authorLevel:1,backgroundColor:"",remark:""}),bl=["#FFB6C1","#FFA07A","#98FB98","#87CEEB","#DDA0DD","#F0E68C","#FFC0CB","#B0E0E6","#FFE4E1","#E0FFFF","#F5DEB3","#FFEFD5","#D8BFD8","#AFEEEE","#FAFAD2"],Sl={channelType:[{max:50,message:"频道类型不能超过50个字符",trigger:"blur"}],backgroundColor:[{pattern:/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/,message:"请输入有效的颜色代码",trigger:"blur"}],remark:[{max:200,message:"备注信息不能超过200个字符",trigger:"blur"}]},lt=f(!1),$e=f(!1),at=f(!1),O=f(null),q=f({description:"",amounts:[{id:null,amount:null,investmentTime:""}]}),Tl=t=>{Le.value=t,B.value=1,F(1)},xl=t=>{B.value=t,F(t)},Fe=()=>{B.value=1,F(1)},Vl=()=>{H.value?m.success("已刷新72H热度异动数据"):(H.value=!0,m.success("已开启72H热度异动筛选"));const t=new Date;t.setTime(t.getTime()-72*60*60*1e3),oe.value=ge(t);const e=new Date;ne.value=ge(e),ve.value="",me.value="",te.value="all",B.value=1,F(1)},Nt=()=>{if(H.value&&ve.value&&me.value){const t=new Date(ve.value),e=new Date(me.value);if(t>e){m.warning("开始日期不能晚于结束日期");return}t.setHours(0,0,0,0),e.setHours(23,59,59,999),oe.value=ge(t),ne.value=ge(e),console.log("用户选择日期范围:",{customStartDate:ve.value,customEndDate:me.value,startTime:oe.value,endTime:ne.value}),B.value=1,F(1)}},ue=async()=>{if(V.value)try{const t={musicId:V.value};if(H.value&&oe.value&&ne.value)t.startTime=oe.value,t.endTime=ne.value;else{const n=new Date;n.setTime(n.getTime()-72*60*60*1e3),t.startTime=ge(n);const i=new Date;t.endTime=ge(i)}const e=await j.getMonitorStatistics(t);console.log("Monitor页面: 统计数据API响应:",e),console.log("Monitor页面: 统计数据请求参数:",t),e.code===200?(re.value=e.data,console.log("Monitor页面: 统计数据:",re.value)):(console.warn("获取统计数据失败:",e.message),re.value={totalCount:0,manualCount:0,autoCount:0,abnormalCount:0,hotspotAlertCount:0})}catch(t){console.error("Monitor页面: 加载统计数据失败:",t),re.value={totalCount:0,manualCount:0,autoCount:0,abnormalCount:0,hotspotAlertCount:0}}},pe=async()=>{if(V.value)try{const[t,e]=await Promise.all([j.getMonitorTags(V.value),j.getMonitorChannels(V.value)]);console.log("Monitor页面: 标签统计API响应:",t),console.log("Monitor页面: 频道统计API响应:",e),t.code===200?ke.value=t.data||[]:(console.warn("获取标签数据失败:",t.message),ke.value=[]),e.code===200?be.value=e.data||[]:(console.warn("获取频道数据失败:",e.message),be.value=[]),console.log("Monitor页面: 标签数据:",ke.value),console.log("Monitor页面: 频道数据:",be.value)}catch(t){console.error("Monitor页面: 加载标签和频道数据失败:",t),ke.value=[],be.value=[]}},te=f("all"),st=()=>{B.value=1,F(1)},qe=t=>{var n;const e=(n=t.monitorVideo)==null?void 0:n.tag;if(!e)return[];if(Array.isArray(e))return e;if(typeof e=="string")try{const i=JSON.parse(e);if(Array.isArray(i))return i}catch{return e.split(",").map(v=>v.trim()).filter(v=>v)}return[]},He=t=>{var n;const e=(n=t.monitorVideo)==null?void 0:n.channel;if(!e)return[];if(Array.isArray(e))return e;if(typeof e=="string")try{const i=JSON.parse(e);if(Array.isArray(i))return i}catch{return e.split(",").map(v=>v.trim()).filter(v=>v)}return[]},Dl=t=>{const e=X.value.indexOf(t);e>-1?X.value.splice(e,1):X.value.push(t),B.value=1,F(1);const n=X.value.length+Z.value.length;n>0?m.success(`已选择 ${n} 个筛选条件`):m.success("已清除所有筛选条件")},Il=t=>{const e=Z.value.indexOf(t);e>-1?Z.value.splice(e,1):Z.value.push(t),B.value=1,F(1);const n=X.value.length+Z.value.length;n>0?m.success(`已选择 ${n} 个筛选条件`):m.success("已清除所有筛选条件")},Al=t=>{},El=t=>{},Ml=()=>{X.value=[],Z.value=[],B.value=1,F(1),m.success("已清除所有筛选条件")},ot=t=>{te.value=t,H.value=!1,oe.value="",ne.value="",ve.value="",me.value="",B.value=1,F(1);const e={all:"已显示当前监控视频",manual:"已过滤显示手动添加的视频",error:"已过滤显示异常监控的视频",auto:"已过滤显示自选视频"};m.success(e[t]||"过滤完成")},Ye=t=>{var n;let e=null;if((n=t.videoInfo)!=null&&n.topics?e=t.videoInfo.topics:t.topics&&(e=t.topics),Array.isArray(e))return e;if(typeof e=="string")try{const i=JSON.parse(e);if(Array.isArray(i))return i}catch{}return[]},nt=t=>t.hotspotAlerts||[],de=t=>{const e=nt(t);if(e.length===0)return{total:0,level1:0,level2:0,level3:0,level4:0};const n={total:e.length,level1:0,level2:0,level3:0,level4:0};return e.forEach(i=>{i.alertLevel===1?n.level1++:i.alertLevel===2?n.level2++:i.alertLevel===3?n.level3++:i.alertLevel===4&&n.level4++}),n},Pt=t=>{const e=nt(t);return e.length===0?0:Math.max(...e.map(n=>n.triggerScore||0))},$l=t=>{const e=nt(t);return e.length===0?"short":e.reduce((i,v)=>(v.triggerScore||0)>(i.triggerScore||0)?v:i).timeWindow||"short"},kt=(t,e)=>{if(!t)return"score-low";let n,i;switch(e){case"short":n=60,i=100;break;case"medium":n=100,i=200;break;case"long":n=160,i=320;break;default:n=60,i=100;break}return t>i?"score-high":t>=n?"score-medium":"score-low"},bt=t=>t?t.toFixed(1):"0.0",Bt=t=>{switch(t){case 4:return"danger";case 3:return"danger";case 2:return"warning";case 1:return"success";default:return"info"}},Rt=t=>{switch(t){case 4:return"极度爆发";case 3:return"高度爆发";case 2:return"中度飙升";case 1:return"轻度上涨";default:return"未知"}},Ot=t=>{switch(t){case"short":return"success";case"medium":return"warning";case"long":return"danger";default:return"info"}},qt=t=>{switch(t){case"short":return"短期";case"medium":return"中期";case"long":return"长期";default:return"未知"}},Ht=t=>{switch(t){case"digg":return"点赞";case"comment":return"评论";case"collect":return"收藏";case"share":return"分享";case"comprehensive":return"综合";default:return"未知"}},fe=t=>t?t.toFixed(1):"0.0",it=(t,e)=>(t||0)-(e||0),St=t=>t?Tt(t):"N/A",rt=f(!1),A=f(null),Fl=t=>{A.value=t,rt.value=!0},zl=()=>{rt.value=!1,A.value=null},Ul=async t=>{try{await De.confirm("确认删除该热度提醒？","警告",{type:"warning",confirmButtonText:"确认删除",cancelButtonText:"取消"});const e=await j.deleteHotspotAlert(t.id);e.code===200?(m.success("删除成功"),await F(B.value),await ue()):m.error(e.message||"删除失败")}catch(e){e!=="cancel"&&m.error("删除失败")}},ut=t=>{var i;let e=null;return(i=t.videoInfo)!=null&&i.desc?e=t.videoInfo.desc:t.desc&&(e=t.desc),e?e.replace(/#[^\s#]*/g,"").trim()||e:""},W=t=>t?t>=1e4?(t/1e4).toFixed(1)+"w":t.toString():"0",Tt=t=>{if(!t)return"N/A";const e=t.toString().length===10;return new Date(e?t*1e3:t).toLocaleString("zh-CN")},Ll=t=>t?t>=1e4?(t/1e4).toFixed(1)+"w":t.toString():"0",Nl=t=>!t||t<=0?"0.00":parseFloat(t).toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2}),Yt=t=>!t||t==="N/A"?"N/A":t.toString().length>10?t.toString().substring(0,10):t.toString(),xt=t=>{var n;const e=(n=t.monitorVideo)==null?void 0:n.latestHotspotAlertTime;if(!e)return!1;try{const i=new Date;return i.setTime(i.getTime()-72*60*60*1e3),new Date(e)>i}catch(i){return console.warn("解析热度异动时间失败:",i),!1}},ge=(t=new Date)=>{const e=new Date(t.getTime()+288e5),n=e.getUTCFullYear(),i=String(e.getUTCMonth()+1).padStart(2,"0"),v=String(e.getUTCDate()).padStart(2,"0"),b=String(e.getUTCHours()).padStart(2,"0"),I=String(e.getUTCMinutes()).padStart(2,"0"),_=String(e.getUTCSeconds()).padStart(2,"0");return`${n}-${i}-${v} ${b}:${I}:${_}`},Ve=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),v=String(t.getHours()).padStart(2,"0"),b=String(t.getMinutes()).padStart(2,"0");return`${e}-${n}-${i}T${v}:${b}`},Pl=t=>{if(!t)return Ve();try{const e=new Date(t);if(isNaN(e.getTime()))return console.warn("无效的时间格式:",t),Ve();const n=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),v=String(e.getDate()).padStart(2,"0"),b=String(e.getHours()).padStart(2,"0"),I=String(e.getMinutes()).padStart(2,"0");return`${n}-${i}-${v}T${b}:${I}`}catch(e){return console.warn("时间转换失败:",e),Ve()}},Bl=t=>{switch(t){case 1:return"success";case 0:return"info";case 2:return"warning";case 3:return"danger";default:return"info"}},Rl=t=>{switch(t){case 1:return"启用";case 0:return"停用";case 2:return"无权限";case 3:return"失败";default:return"未知"}},F=async(t=1)=>{if(N.value=!0,!V.value){m.warning("请先选择要查看的音乐监控"),N.value=!1,Q.push("/music");return}try{const e={musicId:V.value,pageNum:t,pageSize:Le.value};if(Ce.value){const v=Ce.value.trim();/^\d+$/.test(v)?e.videoId=v:v.includes("douyin.com")||v.includes("iesdouyin.com")?e.videoUrl=v:e.authorName=v}X.value.length>0&&(e.tag=X.value),Z.value.length>0&&(e.channel=Z.value),te.value==="manual"?e.type=1:te.value==="auto"&&(e.joinCustomType=1),te.value==="error"?e.status=0:te.value==="all"&&(e.status=1);const n={diggCount:"digg_count",publishTime:"video_publish_time",createTime:"create_time"};if(e.sortBy=n[Ie.value]||"create_time",e.sortOrder=Ae.value.toUpperCase(),H.value)if(oe.value&&ne.value)e.startTime=oe.value,e.endTime=ne.value;else{const v=new Date;v.setTime(v.getTime()-72*60*60*1e3),e.startTime=ge(v);const b=new Date;e.endTime=ge(b)}console.log("Monitor页面: 查询参数:",e);const i=await j.getMonitorList(e);if(console.log("Monitor页面: 监控列表API响应:",i),i.code===200){const v=i.data||{},b=v.list||[];console.log("Monitor页面: 新接口响应数据:",v),console.log("Monitor页面: 监控列表数据:",b),B.value=v.pageNum||1,ht.value=v.total||0;const I=b.map(_=>({monitorVideo:{id:_.monitorVideoId,awemeId:_.videoId,videoUrl:_.videoUrl,musicId:_.musicId,status:_.status,type:_.type,createTime:_.createTime,videoPublishTime:_.videoPublishTime,tag:_.searchTags,channel:_.searchChannel,remark:_.remark,totalInvestmentAmount:_.totalInvestmentAmount,joinCustomType:_.joinCustomType,latestHotspotAlertTime:_.latestHotspotAlertTime},videoInfo:{desc:_.videoDescription,authorId:_.authorId,topics:_.topicTags?JSON.parse(_.topicTags):[]},authorInfo:{nickname:_.authorName,followerCount:_.followerCount,authorId:_.authorId},latestStats:{diggCount:_.latestDiggCount,commentCount:_.latestCommentCount},hotspotAlerts:_.hotspotAlerts||[],userMonitor:{musicId:_.musicId}}));if(console.log("Monitor页面: 转换后的数据:",I),V.value&&!P.value)try{const _=await Cl.getMusicById(V.value);_.code===200&&(P.value=_.data)}catch(_){console.warn("获取音乐信息失败:",_)}_t.value=I,t===1&&(await ue(),await pe())}else m.error(i.message||"加载监控列表失败")}catch(e){console.error("Monitor页面: 加载监控列表失败:",e),m.error("加载监控列表失败")}finally{N.value=!1}},Ol=async()=>{var t,e,n,i;if(!L.value.videoUrl.trim()){m.warning("请输入视频链接或ID");return}if(!V.value){m.warning("请先选择要监控的音乐");return}gt.value=!0;try{const v=await j.addMonitor({videoUrl:L.value.videoUrl.trim(),musicId:V.value});v.code===200?(m.success("添加监控成功"),Se.value=!1,L.value={videoUrl:"",file:null},await F(),await ue(),await pe()):(t=v.message)!=null&&t.includes("音乐ID不能为空，音乐为必选项")?m.error("音乐为必选项，请先选择音乐"):(e=v.message)!=null&&e.includes("指定的音乐不存在，请选择有效的音乐")?m.error("所选音乐不存在，请重新选择"):(n=v.message)!=null&&n.includes("视频链接不能为空")?m.error("请输入视频链接"):(i=v.message)!=null&&i.includes("添加失败，可能是链接格式错误或已存在")?m.error("视频链接格式错误或该视频已在监控中"):m.error(v.message||"添加监控失败")}catch{m.error("添加监控失败")}finally{gt.value=!1}},jt=()=>{if(L.value={videoUrl:"",file:null},je.value)try{je.value.clearFiles()}catch(t){console.warn("清理上传组件失败:",t)}},ql=()=>{const t=document.createElement("a");t.href="/监控视频模板.xlsx",t.download="监控视频模板.xlsx",document.body.appendChild(t),t.click(),document.body.removeChild(t)},je=f(),Hl=t=>{var i,v;if(console.log("文件选择:",t),!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv","application/csv"].includes(t.raw.type)&&!t.name.endsWith(".csv")){m.error("请选择 .xlsx、.xls 或 .csv 格式的文件");try{(i=je.value)==null||i.clearFiles()}catch(b){console.warn("清理上传文件失败:",b)}L.value.file=null;return}const n=10*1024*1024;if(t.raw.size>n){m.error("文件大小不能超过 10MB");try{(v=je.value)==null||v.clearFiles()}catch(b){console.warn("清理上传文件失败:",b)}L.value.file=null;return}L.value.file=t.raw},Yl=()=>{console.log("文件移除"),L.value.file=null},jl=async()=>{var t,e,n,i,v;if(!V.value){m.warning("请先选择要监控的音乐");return}if(!L.value.file){m.warning("请选择要上传的Excel文件");return}if(!L.value.file.name){m.error("文件信息不完整，请重新选择文件"),L.value.file=null;return}yt.value=!0;try{const b=new FormData;b.append("file",L.value.file),b.append("musicId",V.value.toString()),console.log("开始上传Excel文件:",{fileName:L.value.file.name,fileSize:L.value.file.size,musicId:V.value});const I=await j.uploadExcelAsync(b);if(I.code===200){const{taskId:_,message:Ge}=I.data;m.success("文件上传成功，正在后台处理中...");const S=((t=L.value.file)==null?void 0:t.name)||"未知文件";Se.value=!1,jt(),Gl(_,S)}else{let _=I.message||"Excel上传失败";(e=I.message)!=null&&e.includes("请选择要上传的Excel文件")?_="请选择要上传的Excel文件":(n=I.message)!=null&&n.includes("文件格式不正确，请上传Excel文件(.xlsx或.xls)")?_="文件格式不正确，请上传Excel文件(.xlsx或.xls)":(i=I.message)!=null&&i.includes("音乐ID不能为空，音乐为必选项")?_="音乐为必选项，请先选择音乐":(v=I.message)!=null&&v.includes("指定的音乐不存在，请选择有效的音乐")&&(_="所选音乐不存在，请重新选择音乐"),m.error(_)}}catch(b){console.error("Excel上传失败:",b),m.error("Excel上传失败，请检查网络连接后重试")}finally{yt.value=!1}},Gl=(t,e)=>{$.value={id:t,fileName:e,status:"PENDING",progress:0,totalCount:0,processedCount:0,successCount:0,skipCount:0,errorCount:0},Je.value=!0,Wl()},Wl=()=>{ae.value&&clearInterval(ae.value),ae.value=setInterval(async()=>{try{const t=await j.getTaskProgress($.value.id);if(t.code===200){const e=t.data;$.value={...$.value,...e},(e.status==="COMPLETED"||e.status==="FAILED")&&(clearInterval(ae.value),ae.value=null,e.status==="COMPLETED"&&(await F(),await ue(),await pe()))}}catch(t){console.error("查询任务进度失败:",t)}},2e3)},Gt=()=>{ae.value&&(clearInterval(ae.value),ae.value=null),Je.value=!1},Jl=t=>{switch(t){case"PENDING":return"等待处理";case"PROCESSING":return"处理中";case"COMPLETED":return"已完成";case"FAILED":return"处理失败";default:return"未知状态"}},Kl=t=>{switch(t){case"PENDING":return"info";case"PROCESSING":return"warning";case"COMPLETED":return"success";case"FAILED":return"danger";default:return"info"}},Ql=t=>{t?(Be.value=t,Ke.value=!0,na()):m.warning("视频ID无效")},Xl=async t=>{var v;const n=((v=t.monitorVideo)==null?void 0:v.status)===1?0:1,i=n===1?"启用":"停用";try{await De.confirm(`确认${i}该监控视频？`,"提示",{type:"warning"});const b=await j.updateStatus(t.monitorVideo.id,{status:n});b.code===200?(await F(),await ue(),await pe(),m.success(`${i}成功`)):m.error(b.message||`${i}失败`)}catch(b){b!=="cancel"&&m.error(`${i}失败`)}},Zl=async t=>{try{await De.confirm("确认删除该监控视频？删除后无法恢复","警告",{type:"warning",confirmButtonText:"确认删除",cancelButtonText:"取消"});const e=await j.deleteMonitor(t.monitorVideo.id);e.code===200?(await F(),await ue(),await pe(),m.success("删除成功")):m.error(e.message||"删除失败")}catch(e){e!=="cancel"&&m.error("删除失败")}},ea=t=>{se.value=t},Wt=async t=>{const e=t===1?"启用":"停用";try{await De.confirm(`确认批量${e}选中的 ${se.value.length} 个监控项？`,"提示",{type:"warning"});const n=se.value.map(i=>j.updateStatus(i.monitorVideo.id,{status:t}));await Promise.all(n),await F(),await ue(),await pe(),Ee.value=!1,se.value=[],m.success(`批量${e}成功`)}catch(n){n!=="cancel"&&m.error(`批量${e}失败`)}},ta=async()=>{try{await De.confirm(`确认批量删除选中的 ${se.value.length} 个监控项？删除后无法恢复`,"警告",{type:"warning",confirmButtonText:"确认删除",cancelButtonText:"取消"});const t=se.value.map(e=>j.deleteMonitor(e.monitorVideo.id));await Promise.all(t),await F(),await ue(),await pe(),Ee.value=!1,se.value=[],m.success("批量删除成功")}catch(t){t!=="cancel"&&m.error("批量删除失败")}},la=async t=>{var e;if(t==="updateEmail"){Pe.value.email=((e=z.user)==null?void 0:e.email)||"",Ne.value=!0;return}if(t==="logout")try{await De.confirm("确认退出登录？","提示",{type:"warning"}),await z.logout(),Q.push("/login")}catch{}},aa=t=>/^[\w.!#$%&'*+/=?^`{|}~-]+@[\w-]+(\.[\w-]+)+$/.test(t),sa=async()=>{const t=(Pe.value.email||"").trim();if(!t){m.warning("请输入邮箱地址");return}if(!aa(t)){m.warning("邮箱格式不正确");return}wt.value=!0;try{const e=await ss.updateEmail({email:t});e.code===200?(z.setUser({...z.user||{},email:t}),m.success("邮箱更新成功"),Ne.value=!1):m.error(e.message||"邮箱更新失败")}catch{m.error("邮箱更新失败，请稍后重试")}finally{wt.value=!1}},dt=t=>t?t>=1e4?(t/1e4).toFixed(1)+"w":t.toString():"0",ct=t=>{if(!t)return Date.now();try{const e=t.split(" ");if(e.length===3){const n=e[0],i=e[1]+" "+e[2],v=`${n}-${i}`;return new Date(v).getTime()}return new Date(t).getTime()}catch(e){return console.error("时间解析失败:",t,e),Date.now()}},_e=t=>{R.value[t]=!R.value[t],Object.values(R.value).every(n=>!n)&&(R.value[t]=!0),Ze.value&&Kt(Ze.value)},oa=async()=>{try{const t=await vl.getLatestVideoStats(Be.value);t.code===200&&(xe.value=t.data)}catch(t){console.error("加载最新统计失败:",t)}},Jt=async()=>{try{const t=await vl.getVideoStatsChart(Be.value,Xe.value);t.code===200&&(Ze.value=t.data,Kt(t.data))}catch{m.error("加载图表数据失败")}},Kt=t=>{if(!t||!t.timestamps){Re.value=null;return}const e=[];R.value.likes&&e.push({name:"点赞数",type:"line",data:(t.diggCounts||[]).map((n,i)=>[ct(t.timestamps[i]),n]),smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{width:3,color:"#ff6b9d"},itemStyle:{color:"#ff6b9d"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255, 107, 157, 0.3)"},{offset:1,color:"rgba(255, 107, 157, 0.05)"}]}}}),R.value.comments&&e.push({name:"评论数",type:"line",data:(t.commentCounts||[]).map((n,i)=>[ct(t.timestamps[i]),n]),smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{width:3,color:"#4ecdc4"},itemStyle:{color:"#4ecdc4"}}),R.value.collects&&e.push({name:"收藏数",type:"line",data:(t.collectCounts||[]).map((n,i)=>[ct(t.timestamps[i]),n]),smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{width:3,color:"#45b7d1"},itemStyle:{color:"#45b7d1"}}),R.value.shares&&e.push({name:"分享数",type:"line",data:(t.shareCounts||[]).map((n,i)=>[ct(t.timestamps[i]),n]),smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{width:3,color:"#f9ca24"},itemStyle:{color:"#f9ca24"}}),Re.value={tooltip:{trigger:"axis",axisPointer:{type:"cross"},backgroundColor:"rgba(50, 50, 50, 0.95)",borderColor:"transparent",textStyle:{color:"#fff"}},grid:{left:"2%",right:"2%",bottom:"8%",top:"5%",containLabel:!0},xAxis:{type:"time",axisLine:{lineStyle:{color:"#e6e8eb"}},axisLabel:{color:"#6b7280",formatter:n=>{const i=new Date(n),v=(i.getMonth()+1).toString().padStart(2,"0"),b=i.getDate().toString().padStart(2,"0"),I=i.getHours().toString().padStart(2,"0");return`${v}-${b} ${I}:00`}},splitLine:{show:!1}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#e6e8eb"}},axisLabel:{color:"#6b7280",formatter:n=>n>=1e4?(n/1e4).toFixed(1)+"w":n},splitLine:{lineStyle:{color:"#f1f3f4",type:"dashed"}}},series:e}},na=async()=>{Qe.value=!0;try{await Promise.all([oa(),Jt()])}finally{Qe.value=!1}},ia=()=>{Ke.value=!1,Be.value=null,xe.value=null,Re.value=null,Ze.value=null,Xe.value="7",R.value={likes:!0,comments:!0,collects:!0,shares:!0}},Qt=t=>t?t>=1e4?(t/1e4).toFixed(1)+"w":t.toString():"0",ra=async t=>{tt.value=!0;try{const e=await Is.getAuthorInfo(t);e.code===200?(D.value=e.data,await da(t)):(m.error("获取播主信息失败"),D.value=null,ie.value=!1)}catch(e){console.error("获取播主信息失败:",e),m.error("获取播主信息失败"),D.value=null,ie.value=!1}finally{tt.value=!1}},ua=()=>{et.value=!1,D.value=null,ie.value=!1},da=async t=>{var e;if((e=z.user)!=null&&e.id)try{const n=await Lt.checkFavoriteStatus(z.user.id,t);n.success&&(ie.value=n.data||!1)}catch(n){console.error("检查收藏状态失败:",n),ie.value=!1}},ca=async()=>{var t,e;if(!((t=D.value)!=null&&t.userId)||!((e=z.user)!=null&&e.id)){m.error("用户或播主信息不完整");return}if(ie.value){Me.value=!0;try{const n=await Lt.removeFavorite(z.user.id,D.value.userId);n.success?(ie.value=!1,m.success("取消收藏成功")):m.error(n.message||"取消收藏失败")}catch(n){console.error("取消收藏失败:",n),m.error("取消收藏失败，请稍后重试")}finally{Me.value=!1}}else va()},va=()=>{var t,e,n;G.value={channelType:((t=D.value)==null?void 0:t.channelType)||"",authorLevel:((e=D.value)==null?void 0:e.authorLevel)||1,backgroundColor:((n=D.value)==null?void 0:n.backgroundColor)||"",remark:""},Oe.value=!0},Xt=()=>{Oe.value=!1,G.value={channelType:"",authorLevel:1,backgroundColor:"",remark:""}},ma=async()=>{var t,e;if(Ct.value){try{await Ct.value.validate()}catch{return}if(!((t=D.value)!=null&&t.userId)||!((e=z.user)!=null&&e.id)){m.error("用户或播主信息不完整");return}Me.value=!0;try{const n={userId:z.user.id,authorUserId:D.value.userId,...G.value};Object.keys(n).forEach(v=>{(n[v]===""||n[v]===null||n[v]===void 0)&&delete n[v]});const i=await Lt.addFavoriteWithSettings(n);i.success?(ie.value=!0,Oe.value=!1,m.success("收藏成功"),Xt()):m.error(i.message||"收藏失败")}catch(n){console.error("收藏操作失败:",n),m.error("收藏失败，请稍后重试")}finally{Me.value=!1}}},pa=async t=>{var n,i;O.value=t,lt.value=!0,q.value={description:((n=t.monitorVideo)==null?void 0:n.remark)||"",amounts:[]};const e=(i=t.monitorVideo)==null?void 0:i.awemeId;if(e){at.value=!0;try{console.log("加载投资记录，视频ID:",e);const v=await j.getVideoInvestments(e);if(v.code===200&&v.data&&v.data.length>0){const b=v.data.map(I=>({id:I.id,amount:I.amount,investmentTime:I.investmentTime?Pl(I.investmentTime):Ve()}));q.value.amounts=b,console.log("成功加载投资记录:",b)}else console.log("该视频暂无投资记录")}catch(v){console.warn("加载投资记录失败:",v)}finally{at.value=!1}}},Vt=()=>{lt.value=!1,O.value=null,at.value=!1,q.value={description:"",amounts:[{id:null,amount:null,investmentTime:Ve()}]}},fa=()=>{q.value.amounts.push({id:null,amount:null,investmentTime:Ve()})},ga=()=>{q.value.amounts=[{id:null,amount:null,investmentTime:Ve()}]},_a=t=>{q.value.amounts.splice(t,1)},ha=async()=>{var n,i,v,b,I,_,Ge;if(!((i=(n=O.value)==null?void 0:n.monitorVideo)!=null&&i.id)){m.error("监控视频ID无效");return}const t=q.value.amounts.some(S=>S.amount&&S.amount>0&&S.investmentTime),e=q.value.description&&q.value.description.trim();!t&&!e&&console.log("用户选择加入自选，但未填写备注或投资记录"),$e.value=!0;try{const S={monitorVideoId:O.value.monitorVideo.id,joinCustomType:1,description:((v=q.value.description)==null?void 0:v.trim())||"",investmentAmounts:q.value.amounts.filter(w=>w.amount&&w.amount>0&&w.investmentTime).map(w=>({id:w.id,amount:parseFloat(w.amount),investmentTime:w.investmentTime+":00"}))},h=await j.updateCustomSelection(S);if(h.code===200){const w=((I=(b=O.value)==null?void 0:b.monitorVideo)==null?void 0:I.joinCustomType)===1;m.success(w?"更新自选成功":"加入自选成功"),Vt(),await F(B.value)}else{const w=((Ge=(_=O.value)==null?void 0:_.monitorVideo)==null?void 0:Ge.joinCustomType)===1;m.error(h.message||(w?"更新自选失败":"加入自选失败"))}}catch(S){console.error("加入自选失败:",S),m.error("网络错误，请重试")}finally{$e.value=!1}},ya=async()=>{var t,e;if(!((e=(t=O.value)==null?void 0:t.monitorVideo)!=null&&e.id)){m.error("监控视频ID无效");return}try{await De.confirm("确定要取消该视频的自选状态吗？","确认取消",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),$e.value=!0;const n={monitorVideoId:O.value.monitorVideo.id,joinCustomType:0,description:"",investmentAmounts:[]},i=await j.updateCustomSelection(n);i.code===200?(m.success("取消自选成功"),Vt(),await F(B.value)):m.error(i.message||"取消自选失败")}catch(n){n!=="cancel"&&(console.error("取消自选失败:",n),m.error("网络错误，请重试"))}finally{$e.value=!1}},Zt=()=>{if(k.query.from==="hotspot"){const t={};V.value&&(t.musicId=V.value),Q.push({path:"/hotspot",query:t})}else Q.push("/music")},wa=t=>{var n,i;const e=((n=t==null?void 0:t.videoInfo)==null?void 0:n.authorId)||((i=t==null?void 0:t.authorInfo)==null?void 0:i.authorId);e?(et.value=!0,ra(e)):m.warning("无法获取播主ID")};return Ea(async()=>{if(k.query.musicId){V.value=parseInt(k.query.musicId);try{const t=await Cl.getMusicById(V.value);(t==null?void 0:t.code)===200&&(P.value=t.data)}catch(t){console.warn("获取音乐信息失败:",t)}await ue(),await pe()}if(k.query.searchKeyword&&(Ce.value=k.query.searchKeyword),k.query.selectedSearchTags)try{X.value=JSON.parse(k.query.selectedSearchTags)}catch(t){console.warn("解析selectedSearchTags失败:",t)}if(k.query.selectedSearchChannels)try{Z.value=JSON.parse(k.query.selectedSearchChannels)}catch(t){console.warn("解析selectedSearchChannels失败:",t)}if(k.query.currentFilter&&(te.value=k.query.currentFilter),k.query.sortField&&(Ie.value=k.query.sortField),k.query.sortOrder&&(Ae.value=k.query.sortOrder),k.query.currentPage&&(B.value=parseInt(k.query.currentPage)),k.query.pageSize&&(Le.value=parseInt(k.query.pageSize)),k.query.showHotspotFilter&&(H.value=k.query.showHotspotFilter==="true"),k.query.startTime){oe.value=k.query.startTime;try{const t=new Date(oe.value);ve.value=t.toISOString().split("T")[0]}catch(t){console.warn("解析开始时间失败:",t)}}if(k.query.endTime){ne.value=k.query.endTime;try{const t=new Date(ne.value);me.value=t.toISOString().split("T")[0]}catch(t){console.warn("解析结束时间失败:",t)}}await F(B.value)}),Ma(()=>{ae.value&&(clearInterval(ae.value),ae.value=null)}),(t,e)=>{var nl,il,rl;const n=$a,i=Fa,v=os,b=ns,I=za,_=is,Ge=Ua,S=rs,h=La,w=us,ze=Na,Dt=Pa,he=Ba,le=ds,It=cs,x=vs,el=ms,At=ps,Ca=fs,tl=Ra,ll=gs,al=_s,ee=hs,sl=ys,ka=ws,Et=Cs,ce=Oa,ba=ks,We=bs,ol=Ss,Mt=Ts,Sa=xs,Ta=Vs,$t=Ds;return u(),p("div",Ls,[l("header",Ns,[e[55]||(e[55]=l("div",{class:"header-left"},[l("h1",{class:"system-title"},"抖音短视频分析系统")],-1)),l("div",Ps,[l("div",Bs,[a(n,{size:32,class:"user-avatar"},{default:o(()=>{var s,d;return[c(r((d=(s=g(z).user)==null?void 0:s.username)==null?void 0:d.charAt(0)),1)]}),_:1}),l("span",Rs,r((nl=g(z).user)==null?void 0:nl.username),1),a(I,{onCommand:la,class:"user-dropdown"},{dropdown:o(()=>[a(b,null,{default:o(()=>[a(v,{command:"updateEmail"},{default:o(()=>e[53]||(e[53]=[c("更新邮箱",-1)])),_:1,__:[53]}),a(v,{command:"logout"},{default:o(()=>e[54]||(e[54]=[c("退出登录",-1)])),_:1,__:[54]})]),_:1})]),default:o(()=>[a(i,{class:"dropdown-icon"},{default:o(()=>[a(g(qa))]),_:1})]),_:1})])])]),l("div",Os,[l("nav",qs,[a(Ge,{"default-active":t.$route.path,router:"",class:"sidebar-menu"},{default:o(()=>[a(_,{index:"/music",class:"menu-item"},{default:o(()=>[a(i,null,{default:o(()=>[a(g(Ha))]),_:1}),e[56]||(e[56]=l("span",null,"音乐管理",-1))]),_:1,__:[56]}),a(_,{index:"/favorite-author",class:"menu-item"},{default:o(()=>[a(i,null,{default:o(()=>[a(g(Ft))]),_:1}),e[57]||(e[57]=l("span",null,"收藏播主",-1))]),_:1,__:[57]})]),_:1},8,["default-active"])]),l("main",Hs,[l("div",Ys,[V.value&&P.value?(u(),p("div",js,[l("h2",Gs,[c(r(P.value.title)+" ",1),l("span",Ws," · "+r(P.value.author),1)]),l("p",Js,[l("span",null,"专辑："+r(P.value.album||"-"),1),P.value.tagList&&g(vt)(P.value.tagList).length?(u(),p("span",Ks,[e[58]||(e[58]=c(" · 标签： ",-1)),(u(!0),p(K,null,we(g(vt)(P.value.tagList),s=>(u(),C(S,{key:s,size:"small",class:"music-tag"},{default:o(()=>[c(r(s),1)]),_:2},1024))),128))])):y("",!0)])])):(u(),p(K,{key:1},[e[59]||(e[59]=l("h2",{class:"page-title"},"监控管理",-1)),e[60]||(e[60]=l("p",{class:"page-desc"},"管理您的抖音视频监控任务，实时掌握数据变化",-1))],64))]),V.value?(u(),p("div",Qs,[l("div",{class:M(["stat-card total",{"is-active":te.value==="all"&&!H.value}]),onClick:e[0]||(e[0]=s=>ot("all"))},[l("div",Xs,[a(i,{size:"20"},{default:o(()=>[a(g(Ya))]),_:1})]),l("div",Zs,[l("div",eo,r(re.value.totalCount),1),e[61]||(e[61]=l("div",{class:"stat-label"},"当前监控视频",-1))])],2),l("div",{class:M(["stat-card hotspot",{"is-active":H.value}]),onClick:Vl},[l("div",to,[a(i,{size:"20"},{default:o(()=>[a(g(ja))]),_:1})]),l("div",lo,[l("div",ao,r(re.value.hotspotAlertCount||0),1),e[62]||(e[62]=l("div",{class:"stat-label"},"72H热度异动",-1))])],2),l("div",{class:M(["stat-card auto",{"is-active":te.value==="auto"&&!H.value}]),onClick:e[1]||(e[1]=s=>ot("auto"))},[l("div",so,[a(i,{size:"20",color:"#10b981"},{default:o(()=>[a(g(Ft))]),_:1})]),l("div",oo,[l("div",no,r(re.value.autoCount),1),e[63]||(e[63]=l("div",{class:"stat-label"},"自选视频",-1))])],2),l("div",{class:M(["stat-card manual",{"is-active":te.value==="manual"&&!H.value}]),onClick:e[2]||(e[2]=s=>ot("manual"))},[l("div",io,[a(i,{size:"20"},{default:o(()=>[a(g(pl))]),_:1})]),l("div",ro,[l("div",uo,r(re.value.manualCount),1),e[64]||(e[64]=l("div",{class:"stat-label"},"手动添加",-1))])],2),l("div",{class:M(["stat-card error",{"is-active":te.value==="error"&&!H.value}]),onClick:e[3]||(e[3]=s=>ot("error"))},[l("div",co,[a(i,{size:"20"},{default:o(()=>[a(g(Ga))]),_:1})]),l("div",vo,[l("div",mo,r(re.value.abnormalCount),1),e[65]||(e[65]=l("div",{class:"stat-label"},"异常监控",-1))])],2)])):y("",!0),V.value?(u(),p("div",po)):y("",!0),V.value?(u(),p("div",fo,[H.value?(u(),p("div",go,[l("div",_o,[l("div",ho,[V.value?(u(),C(h,{key:0,onClick:Zt,icon:g(fl)},{default:o(()=>[c(r(g(k).query.from==="hotspot"?"返回热度提醒":"返回音乐管理"),1)]),_:1},8,["icon"])):y("",!0),a(h,{type:"primary",onClick:e[4]||(e[4]=s=>Se.value=!0),icon:g(mt)},{default:o(()=>e[66]||(e[66]=[c(" 添加监控 ",-1)])),_:1,__:[66]},8,["icon"]),a(h,{onClick:e[5]||(e[5]=()=>F()),loading:N.value,icon:g(gl)},{default:o(()=>e[67]||(e[67]=[c(" 刷新 ",-1)])),_:1,__:[67]},8,["loading","icon"])]),l("div",yo,[l("div",wo,[a(ze,{modelValue:Ie.value,"onUpdate:modelValue":e[6]||(e[6]=s=>Ie.value=s),placeholder:"排序方式",style:{width:"120px"},onChange:st},{default:o(()=>[a(w,{label:"按点赞数",value:"diggCount"}),a(w,{label:"按发布时间",value:"publishTime"}),a(w,{label:"按创建时间",value:"createTime"})]),_:1},8,["modelValue"]),a(ze,{modelValue:Ae.value,"onUpdate:modelValue":e[7]||(e[7]=s=>Ae.value=s),placeholder:"排序顺序",style:{width:"90px"},onChange:st},{default:o(()=>[a(w,{label:"降序",value:"desc"}),a(w,{label:"升序",value:"asc"})]),_:1},8,["modelValue"]),a(Dt,{modelValue:ve.value,"onUpdate:modelValue":e[8]||(e[8]=s=>ve.value=s),type:"date",placeholder:"开始日期",style:{width:"140px"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:Nt},null,8,["modelValue"]),e[69]||(e[69]=l("span",{class:"time-separator"},"至",-1)),a(Dt,{modelValue:me.value,"onUpdate:modelValue":e[9]||(e[9]=s=>me.value=s),type:"date",placeholder:"结束日期",style:{width:"140px"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:Nt},null,8,["modelValue"]),a(he,{modelValue:Ce.value,"onUpdate:modelValue":e[10]||(e[10]=s=>Ce.value=s),placeholder:"搜索视频ID、链接或播主名称","prefix-icon":g(pt),style:{width:"250px"},clearable:"",onKeyup:ml(Fe,["enter"]),onClear:Fe},null,8,["modelValue","prefix-icon"]),a(h,{onClick:Fe,icon:g(pt),type:"primary"},{default:o(()=>e[68]||(e[68]=[c("搜索",-1)])),_:1,__:[68]},8,["icon"])])])])])):(u(),p("div",Co,[l("div",ko,[l("div",bo,[V.value?(u(),C(h,{key:0,onClick:Zt,icon:g(fl)},{default:o(()=>[c(r(g(k).query.from==="hotspot"?"返回热度提醒":"返回音乐管理"),1)]),_:1},8,["icon"])):y("",!0),a(h,{type:"primary",onClick:e[11]||(e[11]=s=>Se.value=!0),icon:g(mt)},{default:o(()=>e[70]||(e[70]=[c(" 添加监控 ",-1)])),_:1,__:[70]},8,["icon"]),a(h,{onClick:e[12]||(e[12]=()=>F()),loading:N.value,icon:g(gl)},{default:o(()=>e[71]||(e[71]=[c(" 刷新 ",-1)])),_:1,__:[71]},8,["loading","icon"])]),l("div",So,[l("div",To,[a(ze,{modelValue:Ie.value,"onUpdate:modelValue":e[13]||(e[13]=s=>Ie.value=s),placeholder:"排序方式",style:{width:"120px"},onChange:st},{default:o(()=>[a(w,{label:"按点赞数",value:"diggCount"}),a(w,{label:"按发布时间",value:"publishTime"}),a(w,{label:"按创建时间",value:"createTime"})]),_:1},8,["modelValue"]),a(ze,{modelValue:Ae.value,"onUpdate:modelValue":e[14]||(e[14]=s=>Ae.value=s),placeholder:"排序顺序",style:{width:"90px"},onChange:st},{default:o(()=>[a(w,{label:"降序",value:"desc"}),a(w,{label:"升序",value:"asc"})]),_:1},8,["modelValue"]),a(he,{modelValue:Ce.value,"onUpdate:modelValue":e[15]||(e[15]=s=>Ce.value=s),placeholder:"搜索视频ID、链接或播主名称","prefix-icon":g(pt),style:{width:"250px"},clearable:"",onKeyup:ml(Fe,["enter"]),onClear:Fe},null,8,["modelValue","prefix-icon"]),a(h,{onClick:Fe,icon:g(pt),type:"primary"},{default:o(()=>e[72]||(e[72]=[c("搜索",-1)])),_:1,__:[72]},8,["icon"])])])])]))])):y("",!0),ke.value.length>0||be.value.length>0?(u(),p("div",xo,[l("div",Vo,[l("div",Do,[ke.value.length>0?(u(),p("div",Io,[e[73]||(e[73]=l("span",{class:"filter-group-title"},"搜索标签：",-1)),(u(!0),p(K,null,we(ke.value,s=>(u(),C(S,{key:`tag-${s.tagName}`,size:"large",type:X.value.includes(s.tagName)?"primary":"info",effect:X.value.includes(s.tagName)?"dark":"light",class:"filter-tag",onClick:d=>Dl(s.tagName)},{default:o(()=>[c(r(s.tagName)+" ",1),l("span",Ao," ("+r(s.videoCount)+") ",1)]),_:2},1032,["type","effect","onClick"]))),128))])):y("",!0),be.value.length>0?(u(),p("div",Eo,[e[74]||(e[74]=l("span",{class:"filter-group-title"},"搜索类型：",-1)),(u(!0),p(K,null,we(be.value,s=>(u(),C(S,{key:`channel-${s.channelName}`,size:"large",type:Z.value.includes(s.channelName)?"warning":"info",effect:Z.value.includes(s.channelName)?"dark":"light",class:"filter-tag",onClick:d=>Il(s.channelName)},{default:o(()=>[c(r(s.channelName)+" ",1),l("span",Mo," ("+r(s.videoCount)+") ",1)]),_:2},1032,["type","effect","onClick"]))),128))])):y("",!0)]),X.value.length>0||Z.value.length>0?(u(),C(h,{key:0,type:"text",size:"small",onClick:Ml,class:"clear-tags-btn"},{default:o(()=>[c(" 清除所有 ("+r(X.value.length+Z.value.length)+") ",1)]),_:1})):y("",!0)])])):y("",!0),a(tl,{class:"monitor-table-card"},{header:o(()=>[l("div",$o,[e[75]||(e[75]=l("span",{class:"card-title"},"监控列表",-1)),l("div",Fo,[a(le,{content:"批量操作",placement:"top"},{default:o(()=>[a(h,{disabled:se.value.length===0,onClick:e[16]||(e[16]=s=>Ee.value=!0),size:"small"},{default:o(()=>[c(" 批量操作 ("+r(se.value.length)+") ",1)]),_:1},8,["disabled"])]),_:1})])])]),default:o(()=>[V.value?zt((u(),p("div",Uo,[a(el,{data:_t.value,style:{width:"100%"},onSelectionChange:ea,"empty-text":_t.value.length===0?"暂无监控数据":"",size:"default","cell-style":{padding:"3px 3px"},"header-cell-style":{padding:"8px 6px",background:"#fafafa"},"expand-row-keys":kl.value,"row-key":"monitorVideo.id"},{default:o(()=>[a(x,{type:"selection",width:"50"}),H.value?(u(),C(x,{key:0,type:"expand",width:"50"},{default:o(({row:s})=>[l("div",Lo,[a(el,{data:nt(s),size:"small",class:"expand-table",stripe:""},{default:o(()=>[a(x,{label:"检测时间",width:"160",align:"center"},{default:o(({row:d})=>[l("span",No,r(St(d.detectionTime)),1)]),_:1}),a(x,{label:"提醒级别",width:"110",align:"center"},{default:o(({row:d})=>[a(S,{type:Bt(d.alertLevel),size:"small"},{default:o(()=>[c(r(Rt(d.alertLevel)),1)]),_:2},1032,["type"])]),_:1}),a(x,{label:"时间窗口",width:"110",align:"center"},{default:o(({row:d})=>[a(S,{type:Ot(d.timeWindow),size:"small"},{default:o(()=>[c(r(qt(d.timeWindow)),1)]),_:2},1032,["type"])]),_:1}),a(x,{label:"触发指标",width:"110",align:"center"},{default:o(({row:d})=>[a(S,{size:"small",type:"info"},{default:o(()=>[c(r(Ht(d.triggerMetric)),1)]),_:2},1024)]),_:1}),a(x,{label:"触发评分",width:"100",align:"center"},{default:o(({row:d})=>[l("span",{class:M([kt(d.triggerScore,d.timeWindow),"score-text"])},r(bt(d.triggerScore)),3)]),_:1}),a(x,{label:"点赞增长",width:"110",align:"center"},{default:o(({row:d})=>[l("div",Po,[l("div",Bo,"+"+r(fe(d.diggGrowthRate))+"%",1),l("div",Ro,"+"+r(W(it(d.currentDiggCount,d.baselineDiggCount))),1)])]),_:1}),a(x,{label:"评论增长",width:"110",align:"center"},{default:o(({row:d})=>[l("div",Oo,[l("div",qo,"+"+r(fe(d.commentGrowthRate))+"%",1),l("div",Ho,"+"+r(W(it(d.currentCommentCount,d.baselineCommentCount))),1)])]),_:1}),a(x,{label:"收藏增长",width:"110",align:"center"},{default:o(({row:d})=>[l("div",Yo,[l("div",jo,"+"+r(fe(d.collectGrowthRate))+"%",1),l("div",Go,"+"+r(W(it(d.currentCollectCount,d.baselineCollectCount))),1)])]),_:1}),a(x,{label:"分享增长",width:"110",align:"center"},{default:o(({row:d})=>[l("div",Wo,[l("div",Jo,"+"+r(fe(d.shareGrowthRate))+"%",1),l("div",Ko,"+"+r(W(it(d.currentShareCount,d.baselineShareCount))),1)])]),_:1}),a(x,{label:"操作",width:"100",align:"center",fixed:"right"},{default:o(({row:d})=>[l("div",Qo,[a(le,{content:"查看详情",placement:"top"},{default:o(()=>[a(h,{size:"small",type:"primary",link:"",icon:g(Wa),onClick:E=>Fl(d)},null,8,["icon","onClick"])]),_:2},1024),a(le,{content:"删除",placement:"top"},{default:o(()=>[a(h,{size:"small",type:"danger",link:"",icon:g(Ut),onClick:E=>Ul(d)},null,8,["icon","onClick"])]),_:2},1024)])]),_:1})]),_:2},1032,["data"])])]),_:1})):y("",!0),a(x,{width:"23",align:"center","show-overflow-tooltip":!1},{default:o(({row:s})=>{var d;return[l("div",Xo,[((d=s.monitorVideo)==null?void 0:d.joinCustomType)===1?(u(),C(i,{key:0,class:"custom-video-icon",size:"16"},{default:o(()=>[a(g(Ja))]),_:1})):y("",!0)])]}),_:1}),a(x,{label:"视频ID",width:"120"},{default:o(({row:s})=>{var d,E,J,ye,Ue,ul;return[l("div",Zo,[l("div",{class:M(["video-id-container",{"hotspot-video-container":xt(s)}])},[(d=s.monitorVideo)!=null&&d.awemeId||(E=s.monitorVideo)!=null&&E.id||s.awemeId?(u(),C(At,{key:0,href:`https://www.douyin.com/video/${((J=s.monitorVideo)==null?void 0:J.awemeId)||((ye=s.monitorVideo)==null?void 0:ye.id)||s.awemeId}`,target:"_blank",type:"primary",class:M(["video-id-link",{"hotspot-video-id":xt(s)}])},{default:o(()=>{var dl,cl;return[c(r(Yt(((dl=s.monitorVideo)==null?void 0:dl.awemeId)||((cl=s.monitorVideo)==null?void 0:cl.id)||s.awemeId)),1)]}),_:2},1032,["href","class"])):(u(),p("span",{key:1,class:M(["video-id-text",{"hotspot-video-id":xt(s)}])},r(Yt(((Ue=s.monitorVideo)==null?void 0:Ue.awemeId)||((ul=s.monitorVideo)==null?void 0:ul.id)||s.awemeId)),3))],2)]),y("",!0)]}),_:1}),a(x,{label:"视频描述",width:"185"},{default:o(({row:s})=>[l("div",en,[ut(s)?(u(),C(le,{key:0,content:ut(s),placement:"top","show-after":500},{default:o(()=>[l("span",tn,r(ut(s)),1)]),_:2},1032,["content"])):(u(),p("span",ln,"无描述"))])]),_:1}),a(x,{label:"播主名称",width:"115"},{default:o(({row:s})=>{var d;return[l("div",an,[a(At,{type:"primary",class:"author-nickname",onClick:Ka(E=>wa(s),["stop"])},{default:o(()=>{var E,J;return[c(r(((E=s.authorInfo)==null?void 0:E.nickname)||((J=s.videoInfo)==null?void 0:J.authorId)||"N/A"),1)]}),_:2},1032,["onClick"]),(d=s.authorInfo)!=null&&d.followerCount?(u(),C(S,{key:0,size:"small",type:"info",class:"author-followers-tag"},{default:o(()=>[c(" 粉丝 "+r(Ll(s.authorInfo.followerCount)),1)]),_:2},1024)):y("",!0)])]}),_:1}),a(x,{label:"话题标签",width:"200"},{default:o(({row:s})=>[Ye(s).length>0?(u(),p("div",sn,[(u(!0),p(K,null,we(Ye(s).slice(0,5),d=>(u(),C(S,{key:d,size:"small",type:"info",class:"hashtag-tag"},{default:o(()=>[c(r(d),1)]),_:2},1024))),128)),Ye(s).length>5?(u(),C(le,{key:0,content:Ye(s).slice(5).join("、"),placement:"top"},{default:o(()=>[a(S,{size:"small",type:"info",class:"hashtag-more"},{default:o(()=>[c(" +"+r(Ye(s).length-5),1)]),_:2},1024)]),_:2},1032,["content"])):y("",!0)])):(u(),p("span",on,"无话题标签"))]),_:1}),H.value?(u(),p(K,{key:1},[a(x,{label:"提醒统计",width:"180",align:"center"},{default:o(({row:s})=>[l("div",nn,[l("div",rn,"共 "+r(de(s).total)+" 条提醒",1),l("div",un,[de(s).level1>0?(u(),C(S,{key:0,type:"success",size:"small"},{default:o(()=>[c("轻度"+r(de(s).level1),1)]),_:2},1024)):y("",!0),de(s).level2>0?(u(),C(S,{key:1,type:"warning",size:"small"},{default:o(()=>[c("中度"+r(de(s).level2),1)]),_:2},1024)):y("",!0),de(s).level3>0?(u(),C(S,{key:2,type:"danger",size:"small"},{default:o(()=>[c("高度"+r(de(s).level3),1)]),_:2},1024)):y("",!0),de(s).level4>0?(u(),C(S,{key:3,type:"danger",size:"small"},{default:o(()=>[c("极度"+r(de(s).level4),1)]),_:2},1024)):y("",!0)])])]),_:1}),a(x,{label:"最高评分",width:"120",align:"center"},{default:o(({row:s})=>[l("div",dn,[l("span",{class:M([kt(Pt(s),$l(s)),"score-text"])},r(bt(Pt(s))),3)])]),_:1})],64)):te.value==="auto"?(u(),p(K,{key:2},[a(x,{label:"视频备注",width:"150"},{default:o(({row:s})=>{var d;return[l("div",cn,[(d=s.monitorVideo)!=null&&d.remark?(u(),C(le,{key:0,content:s.monitorVideo.remark,placement:"top","show-after":500},{default:o(()=>[l("span",vn,r(s.monitorVideo.remark),1)]),_:2},1032,["content"])):(u(),p("span",mn,"无备注"))])]}),_:1}),a(x,{label:"投资总金额",width:"120",align:"right"},{default:o(({row:s})=>{var d;return[l("div",pn,[(d=s.monitorVideo)!=null&&d.totalInvestmentAmount&&s.monitorVideo.totalInvestmentAmount>0?(u(),p("span",fn," ¥"+r(Nl(s.monitorVideo.totalInvestmentAmount)),1)):(u(),p("span",gn,"-"))])]}),_:1})],64)):(u(),p(K,{key:3},[a(x,{label:"搜索标签",width:"120"},{default:o(({row:s})=>[qe(s).length>0?(u(),p("div",_n,[(u(!0),p(K,null,we(qe(s).slice(0,3),d=>(u(),C(S,{key:d,size:"small",type:"success",class:"search-tag",onClick:E=>Al(d)},{default:o(()=>[c(r(d),1)]),_:2},1032,["onClick"]))),128)),qe(s).length>3?(u(),C(le,{key:0,content:qe(s).slice(3).join("、"),placement:"top"},{default:o(()=>[a(S,{size:"small",type:"success",class:"search-tag-more"},{default:o(()=>[c(" +"+r(qe(s).length-3),1)]),_:2},1024)]),_:2},1032,["content"])):y("",!0)])):(u(),p("span",hn,"无搜索标签"))]),_:1}),a(x,{label:"搜索类型",width:"100"},{default:o(({row:s})=>[He(s).length>0?(u(),p("div",yn,[(u(!0),p(K,null,we(He(s).slice(0,3),d=>(u(),C(S,{key:d,size:"small",type:"warning",class:"search-channel",onClick:E=>El(d)},{default:o(()=>[c(r(d),1)]),_:2},1032,["onClick"]))),128)),He(s).length>3?(u(),C(le,{key:0,content:He(s).slice(3).join("、"),placement:"top"},{default:o(()=>[a(S,{size:"small",type:"warning",class:"search-channel-more"},{default:o(()=>[c(" +"+r(He(s).length-3),1)]),_:2},1024)]),_:2},1032,["content"])):y("",!0)])):(u(),p("span",wn,"无搜索类型"))]),_:1})],64)),a(x,{label:"最新数据",width:"130"},{default:o(({row:s})=>[s.latestStats?(u(),p("div",Cn,[l("div",kn,[e[77]||(e[77]=l("div",{class:"heart-icon"},[l("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})])],-1)),l("span",null,r(W(s.latestStats.diggCount||0)),1)]),l("div",bn,[a(i,{size:"14"},{default:o(()=>[a(g(_l))]),_:1}),l("span",null,r(W(s.latestStats.commentCount||0)),1)])])):(u(),p("span",Sn,"暂无数据"))]),_:1}),a(x,{label:"发布时间",width:"150",align:"center"},{default:o(({row:s})=>{var d;return[l("div",Tn,r(Tt((d=s.monitorVideo)==null?void 0:d.videoPublishTime)),1)]}),_:1}),a(x,{label:"创建时间",width:"150",align:"center"},{default:o(({row:s})=>{var d;return[l("div",xn,r(Tt((d=s.monitorVideo)==null?void 0:d.createTime)),1)]}),_:1}),a(x,{label:"状态",width:"100",align:"center"},{default:o(({row:s})=>{var d;return[a(S,{type:Bl((d=s.monitorVideo)==null?void 0:d.status),size:"small",class:"status-tag"},{default:o(()=>{var E;return[c(r(Rl((E=s.monitorVideo)==null?void 0:E.status)),1)]}),_:2},1032,["type"])]}),_:1}),a(x,{label:"操作",width:"200",fixed:"right"},{default:o(({row:s})=>{var d,E;return[l("div",Vn,[a(le,{content:"查看统计",placement:"top"},{default:o(()=>[a(h,{type:"primary",size:"small",icon:g(Qa),onClick:J=>{var ye;return Ql((ye=s.monitorVideo)==null?void 0:ye.awemeId)},link:""},null,8,["icon","onClick"])]),_:2},1024),a(le,{content:((d=s.monitorVideo)==null?void 0:d.joinCustomType)===1?"更新自选":"加入自选",placement:"top"},{default:o(()=>[a(h,{type:"success",size:"small",icon:g(hl),onClick:J=>pa(s),link:""},null,8,["icon","onClick"])]),_:2},1032,["content"]),a(le,{content:((E=s.monitorVideo)==null?void 0:E.status)===1?"停用监控":"启用监控",placement:"top"},{default:o(()=>{var J,ye;return[a(h,{type:((J=s.monitorVideo)==null?void 0:J.status)===1?"warning":"success",size:"small",icon:((ye=s.monitorVideo)==null?void 0:ye.status)===1?g(Xa):g(Za),onClick:Ue=>Xl(s),link:""},{default:o(()=>{var Ue;return[c(r(((Ue=s.monitorVideo)==null?void 0:Ue.status)===1?"停用":"启用"),1)]}),_:2},1032,["type","icon","onClick"])]}),_:2},1032,["content"]),a(le,{content:"删除监控",placement:"top"},{default:o(()=>[a(h,{type:"danger",size:"small",icon:g(Ut),onClick:J=>Zl(s),link:""},null,8,["icon","onClick"])]),_:2},1024)])]}),_:1})]),_:1},8,["data","empty-text","expand-row-keys"]),ht.value>0?(u(),p("div",Dn,[a(Ca,{"current-page":B.value,"onUpdate:currentPage":e[18]||(e[18]=s=>B.value=s),"page-size":Le.value,"onUpdate:pageSize":e[19]||(e[19]=s=>Le.value=s),"page-sizes":[10,20,50,100],total:ht.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Tl,onCurrentChange:xl,class:"pagination"},null,8,["current-page","page-size","total"])])):y("",!0)])),[[$t,N.value]]):(u(),p("div",zo,[a(It,{description:"请先选择要查看监控的音乐","image-size":120},{default:o(()=>[a(h,{type:"primary",onClick:e[17]||(e[17]=s=>g(Q).push("/music"))},{default:o(()=>e[76]||(e[76]=[c(" 选择音乐 ",-1)])),_:1,__:[76]})]),_:1})]))]),_:1})])]),a(ce,{modelValue:Se.value,"onUpdate:modelValue":e[24]||(e[24]=s=>Se.value=s),title:"添加监控视频",width:"600px"},{footer:o(()=>[a(h,{onClick:e[22]||(e[22]=s=>Se.value=!1)},{default:o(()=>e[87]||(e[87]=[c("取消",-1)])),_:1,__:[87]}),a(h,{type:"primary",onClick:e[23]||(e[23]=s=>Te.value==="single"?Ol():jl()),loading:Te.value==="single"?gt.value:yt.value,disabled:Te.value==="batch"&&!L.value.file},{default:o(()=>[c(r(Te.value==="single"?"添加监控":"开始导入"),1)]),_:1},8,["loading","disabled"])]),default:o(()=>[a(al,{modelValue:Te.value,"onUpdate:modelValue":e[20]||(e[20]=s=>Te.value=s),style:{"margin-bottom":"20px"},onChange:jt},{default:o(()=>[a(ll,{label:"single"},{default:o(()=>e[78]||(e[78]=[c("单个添加",-1)])),_:1,__:[78]}),a(ll,{label:"batch"},{default:o(()=>e[79]||(e[79]=[c("批量导入",-1)])),_:1,__:[79]})]),_:1},8,["modelValue"]),a(Et,{model:L.value,"label-width":"100px"},{default:o(()=>[Te.value==="single"?(u(),C(ee,{key:0,label:"视频链接"},{default:o(()=>[a(he,{modelValue:L.value.videoUrl,"onUpdate:modelValue":e[21]||(e[21]=s=>L.value.videoUrl=s),placeholder:"请输入抖音视频链接或ID"},null,8,["modelValue"])]),_:1})):(u(),p(K,{key:1},[a(sl,{title:"批量导入说明",type:"info",closable:!1,"show-icon":"",style:{"margin-bottom":"20px"}},{default:o(()=>[l("div",In,[e[81]||(e[81]=l("p",null,[l("strong",null,"Excel文件格式要求：")],-1)),e[82]||(e[82]=l("ul",{style:{margin:"8px 0","padding-left":"20px"}},[l("li",null,"支持 .xlsx、.xls 和 .csv 格式"),l("li",null,"第一行为标题行（监控视频地址），会被跳过"),l("li",null,"从第二行开始，第一列为视频链接")],-1)),l("p",An,[a(h,{type:"primary",size:"small",onClick:ql,icon:g(es)},{default:o(()=>e[80]||(e[80]=[c(" 下载Excel模板 ",-1)])),_:1,__:[80]},8,["icon"])])])]),_:1}),a(ee,{label:"Excel文件",required:""},{default:o(()=>[a(ka,{ref_key:"uploadRef",ref:je,"auto-upload":!1,"show-file-list":!0,limit:1,accept:".xlsx,.xls,.csv","on-change":Hl,"on-remove":Yl},{tip:o(()=>e[84]||(e[84]=[l("div",{class:"el-upload__tip",style:{color:"#909399","font-size":"12px","margin-top":"5px"}}," 支持 .xlsx/.xls/.csv 文件，且不超过 10MB ",-1)])),default:o(()=>[a(h,{icon:g(ts)},{default:o(()=>e[83]||(e[83]=[c("选择Excel文件",-1)])),_:1,__:[83]},8,["icon"])]),_:1},512)]),_:1})],64)),V.value&&P.value?(u(),C(ee,{key:2,label:"音乐信息"},{default:o(()=>[l("div",En,[l("div",Mn,r(P.value.title)+" - "+r(P.value.author),1),P.value.album?(u(),p("div",$n,"专辑："+r(P.value.album),1)):y("",!0),P.value.tagList&&g(vt)(P.value.tagList).length?(u(),p("div",Fn,[e[85]||(e[85]=c(" 标签： ",-1)),(u(!0),p(K,null,we(g(vt)(P.value.tagList),s=>(u(),C(S,{key:s,size:"small",class:"music-tag"},{default:o(()=>[c(r(s),1)]),_:2},1024))),128))])):y("",!0)])]),_:1})):(u(),C(ee,{key:3,label:"音乐信息"},{default:o(()=>[l("div",zn,[a(sl,{title:"请先选择音乐",type:"warning",closable:!1,"show-icon":""},{default:o(()=>e[86]||(e[86]=[l("p",null,"添加监控视频前，请先在音乐管理页面选择要监控的音乐",-1)])),_:1})])]),_:1}))]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(ce,{modelValue:Ee.value,"onUpdate:modelValue":e[28]||(e[28]=s=>Ee.value=s),title:"批量操作",width:"400px"},{footer:o(()=>[a(h,{onClick:e[25]||(e[25]=s=>Ee.value=!1)},{default:o(()=>e[88]||(e[88]=[c("取消",-1)])),_:1,__:[88]}),a(h,{type:"success",onClick:e[26]||(e[26]=s=>Wt(1))},{default:o(()=>e[89]||(e[89]=[c(" 批量启用 ",-1)])),_:1,__:[89]}),a(h,{type:"warning",onClick:e[27]||(e[27]=s=>Wt(0))},{default:o(()=>e[90]||(e[90]=[c(" 批量停用 ",-1)])),_:1,__:[90]}),a(h,{type:"danger",onClick:ta},{default:o(()=>e[91]||(e[91]=[c(" 批量删除 ",-1)])),_:1,__:[91]})]),default:o(()=>[l("p",null,"已选择 "+r(se.value.length)+" 个监控项",1)]),_:1},8,["modelValue"]),a(ce,{modelValue:Je.value,"onUpdate:modelValue":e[29]||(e[29]=s=>Je.value=s),title:"导入进度",width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1,onClose:Gt},{footer:o(()=>[a(h,{onClick:Gt,disabled:$.value.status==="PROCESSING"},{default:o(()=>[c(r($.value.status==="PROCESSING"?"处理中...":"关闭"),1)]),_:1},8,["disabled"])]),default:o(()=>[l("div",Un,[l("div",Ln,[l("p",null,[e[92]||(e[92]=l("strong",null,"文件名：",-1)),c(r($.value.fileName),1)]),l("p",null,[e[93]||(e[93]=l("strong",null,"任务ID：",-1)),c(r($.value.id),1)]),l("p",null,[e[94]||(e[94]=l("strong",null,"状态：",-1)),a(S,{type:Kl($.value.status),size:"small"},{default:o(()=>[c(r(Jl($.value.status)),1)]),_:1},8,["type"])])]),l("div",Nn,[a(ba,{percentage:$.value.progress,status:$.value.status==="COMPLETED"?"success":$.value.status==="FAILED"?"exception":null},null,8,["percentage","status"]),$.value.totalCount>0?(u(),p("div",Pn,[l("div",Bn,[l("span",null,"总计："+r($.value.totalCount),1),l("span",null,"已处理："+r($.value.processedCount),1)]),l("div",Rn,[l("span",On,"成功："+r($.value.successCount),1),l("span",qn,"跳过："+r($.value.skipCount),1),l("span",Hn,"失败："+r($.value.errorCount),1)])])):y("",!0)]),$.value.status==="PROCESSING"?(u(),p("div",Yn,[a(i,{class:"rotating"},{default:o(()=>[a(g(yl))]),_:1}),e[95]||(e[95]=l("span",null,"正在处理中，请稍候...",-1))])):y("",!0),$.value.status==="COMPLETED"?(u(),p("div",jn,[a(i,{style:{color:"#67c23a"}},{default:o(()=>[a(g(pl))]),_:1}),e[96]||(e[96]=l("span",null,"导入完成！",-1))])):y("",!0),$.value.status==="FAILED"?(u(),p("div",Gn,[a(i,{style:{color:"#f56c6c"}},{default:o(()=>[a(g(ls))]),_:1}),e[97]||(e[97]=l("span",null,"导入失败，请重试",-1))])):y("",!0)])]),_:1},8,["modelValue"]),a(ce,{modelValue:Ke.value,"onUpdate:modelValue":e[39]||(e[39]=s=>Ke.value=s),title:"视频数据统计",width:"90%",top:"5vh","close-on-click-modal":!1},{footer:o(()=>[a(h,{onClick:ia},{default:o(()=>e[109]||(e[109]=[c("关闭",-1)])),_:1,__:[109]})]),default:o(()=>[l("div",Wn,[l("div",Jn,[l("div",Kn,[e[98]||(e[98]=l("span",{class:"video-id-label"},"视频ID:",-1)),l("span",Qn,r(Be.value),1)]),l("div",Xn,[a(ze,{modelValue:Xe.value,"onUpdate:modelValue":e[30]||(e[30]=s=>Xe.value=s),placeholder:"选择时间范围",style:{width:"140px"},onChange:Jt},{default:o(()=>[a(w,{label:"最近7天",value:"7"}),a(w,{label:"最近15天",value:"15"}),a(w,{label:"最近30天",value:"30"})]),_:1},8,["modelValue"])])]),zt((u(),p("div",Zn,[xe.value?(u(),p("div",ei,[l("div",{class:M(["stat-card likes",{"is-active":R.value.likes}]),onClick:e[31]||(e[31]=s=>_e("likes"))},[e[100]||(e[100]=l("div",{class:"stat-icon"},[l("div",{class:"heart-icon-large"},[l("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})])])],-1)),l("div",ti,[l("div",li,r(dt(xe.value.diggCount)),1),e[99]||(e[99]=l("div",{class:"stat-label"},"点赞数",-1)),U.value.digg?(u(),p("div",ai,[a(i,{class:M({"trend-up":U.value.digg>0,"trend-down":U.value.digg<0})},{default:o(()=>[(u(),C(ft(U.value.digg>0?"ArrowUp":"ArrowDown")))]),_:1},8,["class"]),l("span",null,r(Math.abs(U.value.digg))+"%",1)])):y("",!0)])],2),l("div",{class:M(["stat-card comments",{"is-active":R.value.comments}]),onClick:e[32]||(e[32]=s=>_e("comments"))},[l("div",si,[a(i,{size:"24"},{default:o(()=>[a(g(_l))]),_:1})]),l("div",oi,[l("div",ni,r(dt(xe.value.commentCount)),1),e[101]||(e[101]=l("div",{class:"stat-label"},"评论数",-1)),U.value.comment?(u(),p("div",ii,[a(i,{class:M({"trend-up":U.value.comment>0,"trend-down":U.value.comment<0})},{default:o(()=>[(u(),C(ft(U.value.comment>0?"ArrowUp":"ArrowDown")))]),_:1},8,["class"]),l("span",null,r(Math.abs(U.value.comment))+"%",1)])):y("",!0)])],2),l("div",{class:M(["stat-card collects",{"is-active":R.value.collects}]),onClick:e[33]||(e[33]=s=>_e("collects"))},[l("div",ri,[a(i,{size:"24"},{default:o(()=>[a(g(hl))]),_:1})]),l("div",ui,[l("div",di,r(dt(xe.value.collectCount)),1),e[102]||(e[102]=l("div",{class:"stat-label"},"收藏数",-1)),U.value.collect?(u(),p("div",ci,[a(i,{class:M({"trend-up":U.value.collect>0,"trend-down":U.value.collect<0})},{default:o(()=>[(u(),C(ft(U.value.collect>0?"ArrowUp":"ArrowDown")))]),_:1},8,["class"]),l("span",null,r(Math.abs(U.value.collect))+"%",1)])):y("",!0)])],2),l("div",{class:M(["stat-card shares",{"is-active":R.value.shares}]),onClick:e[34]||(e[34]=s=>_e("shares"))},[l("div",vi,[a(i,{size:"24"},{default:o(()=>[a(g(as))]),_:1})]),l("div",mi,[l("div",pi,r(dt(xe.value.shareCount)),1),e[103]||(e[103]=l("div",{class:"stat-label"},"分享数",-1)),U.value.share?(u(),p("div",fi,[a(i,{class:M({"trend-up":U.value.share>0,"trend-down":U.value.share<0})},{default:o(()=>[(u(),C(ft(U.value.share>0?"ArrowUp":"ArrowDown")))]),_:1},8,["class"]),l("span",null,r(Math.abs(U.value.share))+"%",1)])):y("",!0)])],2)])):y("",!0),a(tl,{class:"chart-card"},{header:o(()=>[l("div",gi,[e[108]||(e[108]=l("span",{class:"card-title"},"数据趋势图",-1)),l("div",_i,[l("div",{class:M(["legend-item",{"legend-disabled":!R.value.likes}]),onClick:e[35]||(e[35]=s=>_e("likes"))},e[104]||(e[104]=[l("div",{class:"legend-dot likes-dot"},null,-1),l("span",null,"点赞",-1)]),2),l("div",{class:M(["legend-item",{"legend-disabled":!R.value.comments}]),onClick:e[36]||(e[36]=s=>_e("comments"))},e[105]||(e[105]=[l("div",{class:"legend-dot comments-dot"},null,-1),l("span",null,"评论",-1)]),2),l("div",{class:M(["legend-item",{"legend-disabled":!R.value.collects}]),onClick:e[37]||(e[37]=s=>_e("collects"))},e[106]||(e[106]=[l("div",{class:"legend-dot collects-dot"},null,-1),l("span",null,"收藏",-1)]),2),l("div",{class:M(["legend-item",{"legend-disabled":!R.value.shares}]),onClick:e[38]||(e[38]=s=>_e("shares"))},e[107]||(e[107]=[l("div",{class:"legend-dot shares-dot"},null,-1),l("span",null,"分享",-1)]),2)])])]),default:o(()=>[l("div",hi,[Re.value?(u(),C(g(Va),{key:0,option:Re.value,style:{height:"400px"},autoresize:""},null,8,["option"])):Qe.value?y("",!0):(u(),p("div",yi,[a(It,{description:"暂无图表数据"})]))])]),_:1})])),[[$t,Qe.value]])])]),_:1},8,["modelValue"]),a(ce,{modelValue:et.value,"onUpdate:modelValue":e[40]||(e[40]=s=>et.value=s),title:"播主信息",width:"600px","close-on-click-modal":!1},{footer:o(()=>{var s;return[a(h,{onClick:ua},{default:o(()=>e[110]||(e[110]=[c("关闭",-1)])),_:1,__:[110]}),(s=D.value)!=null&&s.userId?(u(),C(h,{key:0,type:ie.value?"warning":"primary",loading:Me.value,onClick:ca},{default:o(()=>[c(r(ie.value?"取消收藏":"收藏播主"),1)]),_:1},8,["type","loading"])):y("",!0)]}),default:o(()=>[zt((u(),p("div",null,[D.value?(u(),p("div",wi,[l("div",Ci,[a(n,{src:D.value.authorAvatar,size:80,class:"author-avatar"},{default:o(()=>[a(i,null,{default:o(()=>[a(g(wl))]),_:1})]),_:1},8,["src"]),l("div",ki,[l("h3",null,r(D.value.nickname||"未知播主"),1),l("p",bi,r(D.value.userId||"N/A"),1),l("div",Si,[l("span",Ti,[a(i,null,{default:o(()=>[a(g(wl))]),_:1}),c(" "+r(Qt(D.value.followerCount))+" 粉丝 ",1)]),l("span",xi,[a(i,null,{default:o(()=>[a(g(Ft))]),_:1}),c(" "+r(Qt(D.value.totalFavorited))+" 获赞 ",1)])])])]),D.value.userDesc||D.value.userUrl?(u(),p("div",Vi,[a(ol,{column:1,border:""},{default:o(()=>[D.value.userDesc?(u(),C(We,{key:0,label:"播主描述"},{default:o(()=>[l("div",Di,r(D.value.userDesc),1)]),_:1})):y("",!0),D.value.userUrl?(u(),C(We,{key:1,label:"播主地址"},{default:o(()=>[a(At,{type:"primary",href:D.value.userUrl,target:"_blank",class:"author-link"},{default:o(()=>[c(r(D.value.userUrl),1)]),_:1},8,["href"])]),_:1})):y("",!0)]),_:1})])):y("",!0)])):tt.value?y("",!0):(u(),C(It,{key:1,description:"暂无播主信息"}))])),[[$t,tt.value]])]),_:1},8,["modelValue"]),a(ce,{modelValue:Oe.value,"onUpdate:modelValue":e[46]||(e[46]=s=>Oe.value=s),title:"收藏播主设置",width:"500px","close-on-click-modal":!1},{footer:o(()=>[a(h,{onClick:Xt},{default:o(()=>e[114]||(e[114]=[c("取消",-1)])),_:1,__:[114]}),a(h,{type:"primary",onClick:ma,loading:Me.value},{default:o(()=>e[115]||(e[115]=[c(" 确认收藏 ",-1)])),_:1,__:[115]},8,["loading"])]),default:o(()=>[a(Et,{model:G.value,"label-width":"100px",rules:Sl,ref_key:"authorSettingFormRef",ref:Ct},{default:o(()=>[a(ee,{label:"播主昵称"},{default:o(()=>{var s;return[a(he,{value:((s=D.value)==null?void 0:s.nickname)||"",disabled:""},null,8,["value"])]}),_:1}),a(ee,{label:"频道类型",prop:"channelType"},{default:o(()=>[a(ze,{modelValue:G.value.channelType,"onUpdate:modelValue":e[41]||(e[41]=s=>G.value.channelType=s),placeholder:"请选择频道类型",style:{width:"100%"},clearable:"",filterable:"","allow-create":""},{default:o(()=>[a(w,{label:"美食",value:"美食"}),a(w,{label:"美妆",value:"美妆"}),a(w,{label:"时尚",value:"时尚"}),a(w,{label:"娱乐",value:"娱乐"}),a(w,{label:"音乐",value:"音乐"}),a(w,{label:"舞蹈",value:"舞蹈"}),a(w,{label:"游戏",value:"游戏"}),a(w,{label:"科技",value:"科技"}),a(w,{label:"教育",value:"教育"}),a(w,{label:"旅游",value:"旅游"}),a(w,{label:"汽车",value:"汽车"}),a(w,{label:"体育",value:"体育"}),a(w,{label:"生活",value:"生活"}),a(w,{label:"搞笑",value:"搞笑"}),a(w,{label:"知识",value:"知识"}),a(w,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),a(ee,{label:"播主级别",prop:"authorLevel"},{default:o(()=>[a(al,{modelValue:G.value.authorLevel,"onUpdate:modelValue":e[42]||(e[42]=s=>G.value.authorLevel=s)},{default:o(()=>[a(Mt,{value:1},{default:o(()=>e[111]||(e[111]=[c("普通",-1)])),_:1,__:[111]}),a(Mt,{value:2},{default:o(()=>e[112]||(e[112]=[c("优质",-1)])),_:1,__:[112]}),a(Mt,{value:3},{default:o(()=>e[113]||(e[113]=[c("顶级",-1)])),_:1,__:[113]})]),_:1},8,["modelValue"])]),_:1}),a(ee,{label:"背景颜色",prop:"backgroundColor"},{default:o(()=>[l("div",Ii,[a(Sa,{modelValue:G.value.backgroundColor,"onUpdate:modelValue":e[43]||(e[43]=s=>G.value.backgroundColor=s),"show-alpha":"",predefine:bl},null,8,["modelValue"]),a(he,{modelValue:G.value.backgroundColor,"onUpdate:modelValue":e[44]||(e[44]=s=>G.value.backgroundColor=s),placeholder:"如：#FFB6C1",style:{width:"200px","margin-left":"12px"}},null,8,["modelValue"])])]),_:1}),a(ee,{label:"备注信息",prop:"remark"},{default:o(()=>[a(he,{modelValue:G.value.remark,"onUpdate:modelValue":e[45]||(e[45]=s=>G.value.remark=s),type:"textarea",rows:3,placeholder:"请输入备注信息，如：优质美食博主",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(ce,{modelValue:lt.value,"onUpdate:modelValue":e[48]||(e[48]=s=>lt.value=s),title:((rl=(il=O.value)==null?void 0:il.monitorVideo)==null?void 0:rl.joinCustomType)===1?"更新自选":"加入自选",width:"700px","close-on-click-modal":!1},{footer:o(()=>{var s,d;return[a(h,{onClick:Vt},{default:o(()=>e[121]||(e[121]=[c("取消",-1)])),_:1,__:[121]}),((d=(s=O.value)==null?void 0:s.monitorVideo)==null?void 0:d.joinCustomType)===1?(u(),C(h,{key:0,type:"danger",onClick:ya,loading:$e.value},{default:o(()=>e[122]||(e[122]=[c(" 取消自选 ",-1)])),_:1,__:[122]},8,["loading"])):y("",!0),a(h,{type:"primary",onClick:ha,loading:$e.value},{default:o(()=>{var E,J;return[c(r(((J=(E=O.value)==null?void 0:E.monitorVideo)==null?void 0:J.joinCustomType)===1?"确认更新":"确认加入"),1)]}),_:1},8,["loading"])]}),default:o(()=>[l("div",Ai,[O.value?(u(),p("div",Ei,[e[116]||(e[116]=l("h4",null,"视频信息",-1)),a(ol,{column:2,border:"",size:"small"},{default:o(()=>[a(We,{label:"视频ID"},{default:o(()=>{var s;return[c(r((s=O.value.monitorVideo)==null?void 0:s.awemeId),1)]}),_:1}),a(We,{label:"播主"},{default:o(()=>{var s,d;return[c(r(((s=O.value.authorInfo)==null?void 0:s.nickname)||((d=O.value.videoInfo)==null?void 0:d.authorId)),1)]}),_:1}),a(We,{label:"视频标题",span:2},{default:o(()=>[l("div",Mi,r(ut(O.value)||"暂无标题"),1)]),_:1})]),_:1})])):y("",!0),l("div",$i,[e[117]||(e[117]=l("h4",null,"视频备注",-1)),a(ee,null,{default:o(()=>[a(he,{modelValue:q.value.description,"onUpdate:modelValue":e[47]||(e[47]=s=>q.value.description=s),type:"textarea",rows:3,placeholder:"请输入视频备注（可选）",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})]),l("div",Fi,[e[120]||(e[120]=l("h4",null,"投资记录",-1)),at.value?(u(),p("div",zi,[a(i,{class:"rotating"},{default:o(()=>[a(g(yl))]),_:1}),e[118]||(e[118]=l("span",null,"正在加载投资记录...",-1))])):(u(),p(K,{key:1},[q.value.amounts.length>0?(u(),p("div",Ui,[(u(!0),p(K,null,we(q.value.amounts,(s,d)=>(u(),p("div",{key:d,class:"investment-item"},[l("div",Li,[a(ee,{label:"投资金额",class:"amount-input"},{default:o(()=>[a(Ta,{modelValue:s.amount,"onUpdate:modelValue":E=>s.amount=E,min:0,step:100,precision:2,placeholder:"请输入投资金额",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(ee,{label:"投资时间",class:"time-input"},{default:o(()=>[a(Dt,{modelValue:s.investmentTime,"onUpdate:modelValue":E=>s.investmentTime=E,type:"datetime",placeholder:"选择投资时间",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DDTHH:mm",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l("div",Ni,[d===q.value.amounts.length-1?(u(),C(h,{key:0,type:"primary",size:"small",icon:g(mt),onClick:fa,circle:""},null,8,["icon"])):y("",!0),a(h,{type:"danger",size:"small",icon:g(Ut),onClick:E=>_a(d),circle:""},null,8,["icon","onClick"])])])]))),128))])):(u(),p("div",Pi,[a(h,{type:"primary",icon:g(mt),onClick:ga,class:"add-investment-btn"},{default:o(()=>e[119]||(e[119]=[c(" 添加投资记录 ",-1)])),_:1,__:[119]},8,["icon"])]))],64))])])]),_:1},8,["modelValue","title"]),a(ce,{modelValue:Ne.value,"onUpdate:modelValue":e[51]||(e[51]=s=>Ne.value=s),title:"更新邮箱",width:"420px"},{footer:o(()=>[a(h,{onClick:e[50]||(e[50]=s=>Ne.value=!1)},{default:o(()=>e[123]||(e[123]=[c("取消",-1)])),_:1,__:[123]}),a(h,{type:"primary",loading:wt.value,onClick:sa},{default:o(()=>e[124]||(e[124]=[c("确定",-1)])),_:1,__:[124]},8,["loading"])]),default:o(()=>[a(Et,{model:Pe.value,"label-width":"80px"},{default:o(()=>[a(ee,{label:"邮箱"},{default:o(()=>[a(he,{modelValue:Pe.value.email,"onUpdate:modelValue":e[49]||(e[49]=s=>Pe.value.email=s),placeholder:"请输入新的邮箱地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(ce,{modelValue:rt.value,"onUpdate:modelValue":e[52]||(e[52]=s=>rt.value=s),title:"热度异动详情",width:"520px","close-on-click-modal":!1,class:"simple-alert-dialog"},{footer:o(()=>[a(h,{onClick:zl},{default:o(()=>e[140]||(e[140]=[c("关闭",-1)])),_:1,__:[140]})]),default:o(()=>[A.value?(u(),p("div",Bi,[l("div",Ri,[l("div",Oi,[e[125]||(e[125]=l("span",{class:"info-label"},"检测时间",-1)),l("span",qi,r(St(A.value.detectionTime)),1)]),l("div",Hi,[e[126]||(e[126]=l("span",{class:"info-label"},"基准时间",-1)),l("span",Yi,r(St(A.value.baselineTime)),1)]),l("div",ji,[e[127]||(e[127]=l("span",{class:"info-label"},"触发评分",-1)),l("span",{class:M([kt(A.value.triggerScore,A.value.timeWindow),"score-badge simple"])},r(bt(A.value.triggerScore)),3)]),l("div",Gi,[e[128]||(e[128]=l("span",{class:"info-label"},"提醒级别",-1)),a(S,{type:Bt(A.value.alertLevel),size:"small"},{default:o(()=>[c(r(Rt(A.value.alertLevel)),1)]),_:1},8,["type"])]),l("div",Wi,[e[129]||(e[129]=l("span",{class:"info-label"},"时间窗口",-1)),a(S,{type:Ot(A.value.timeWindow),size:"small"},{default:o(()=>[c(r(qt(A.value.timeWindow)),1)]),_:1},8,["type"])]),l("div",Ji,[e[130]||(e[130]=l("span",{class:"info-label"},"触发指标",-1)),a(S,{type:"info",size:"small"},{default:o(()=>[c(r(Ht(A.value.triggerMetric)),1)]),_:1})])]),l("div",Ki,[e[139]||(e[139]=l("h4",{class:"section-header"},"增长数据",-1)),l("div",Qi,[l("div",Xi,[e[132]||(e[132]=l("div",{class:"data-label"},[l("span",{class:"data-icon"},"❤️"),l("span",null,"点赞")],-1)),l("div",Zi,[l("span",er,r(W(A.value.baselineDiggCount||0)),1),e[131]||(e[131]=l("span",{class:"arrow"},"→",-1)),l("span",tr,r(W(A.value.currentDiggCount||0)),1),l("span",lr,"+"+r(fe(A.value.diggGrowthRate))+"%",1)])]),l("div",ar,[e[134]||(e[134]=l("div",{class:"data-label"},[l("span",{class:"data-icon"},"💬"),l("span",null,"评论")],-1)),l("div",sr,[l("span",or,r(W(A.value.baselineCommentCount||0)),1),e[133]||(e[133]=l("span",{class:"arrow"},"→",-1)),l("span",nr,r(W(A.value.currentCommentCount||0)),1),l("span",ir,"+"+r(fe(A.value.commentGrowthRate))+"%",1)])]),l("div",rr,[e[136]||(e[136]=l("div",{class:"data-label"},[l("span",{class:"data-icon"},"⭐"),l("span",null,"收藏")],-1)),l("div",ur,[l("span",dr,r(W(A.value.baselineCollectCount||0)),1),e[135]||(e[135]=l("span",{class:"arrow"},"→",-1)),l("span",cr,r(W(A.value.currentCollectCount||0)),1),l("span",vr,"+"+r(fe(A.value.collectGrowthRate))+"%",1)])]),l("div",mr,[e[138]||(e[138]=l("div",{class:"data-label"},[l("span",{class:"data-icon"},"📤"),l("span",null,"分享")],-1)),l("div",pr,[l("span",fr,r(W(A.value.baselineShareCount||0)),1),e[137]||(e[137]=l("span",{class:"arrow"},"→",-1)),l("span",gr,r(W(A.value.currentShareCount||0)),1),l("span",_r,"+"+r(fe(A.value.shareGrowthRate))+"%",1)])])])])])):y("",!0)]),_:1},8,["modelValue"])])}}},$r=xa(hr,[["__scopeId","data-v-4b885b1f"]]);export{$r as default};
