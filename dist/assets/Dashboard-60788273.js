/* empty css                  *//* empty css                *//* empty css                  *//* empty css                 */import{u as ot,a as at,r as h,n as E,p as nt,q as p,o as c,c as m,d as s,e,w as o,t as i,s as d,v as lt,x as N,y as it,z as dt,A as rt,B as ut,C as _t,D as ct,F as mt,h as r,G as vt,H as pt,I as ft,J as gt,K as ht,L as wt,M as yt,N as Ct,O as Et,P as bt,Q as kt,R as Dt,k as St,S as zt,T as Vt,U as xt,V as At,W as $t}from"./index-615a714d.js";import{m as Mt}from"./monitor-f0695869.js";import{_ as Rt}from"./_plugin-vue_export-helper-c27b6911.js";const Lt={class:"dashboard-layout"},Nt={class:"header"},Tt={class:"header-right"},Bt={class:"user-info"},It={class:"username"},Ft={class:"main-container"},Pt={class:"sidebar"},Ut={class:"content"},qt={class:"stats-grid"},Gt={class:"stat-card"},Ht={class:"stat-icon total"},Jt={class:"stat-content"},Kt={class:"stat-value"},Ot={class:"stat-card"},Qt={class:"stat-icon active"},Wt={class:"stat-content"},jt={class:"stat-value"},Xt={class:"stat-card"},Yt={class:"stat-icon likes"},Zt={class:"stat-content"},ts={class:"stat-value"},ss={class:"stat-card"},es={class:"stat-icon comments"},os={class:"stat-content"},as={class:"stat-value"},ns={class:"card-header"},ls={key:0,class:"empty-state"},is={key:1,class:"video-list"},ds=["onClick"],rs={class:"video-info"},us={class:"video-id"},_s={class:"video-url"},cs={class:"video-status"},ms={class:"video-action"},vs={class:"quick-actions"},ps={class:"system-info"},fs={class:"info-item"},gs={class:"info-value"},hs={class:"info-item"},ws={class:"info-value"},ys={__name:"Dashboard",setup(Cs){const b=ot(),w=at(),f=h(!1),u=h([]),T=h(new Date().toLocaleString()),k=h(""),B=E(()=>u.value.filter(a=>{var t;return((t=a.monitorVideo)==null?void 0:t.status)===1}).length),I=E(()=>u.value.reduce((a,t)=>{var _;return a+(((_=t.latestStats)==null?void 0:_.diggCount)||0)},0)),F=E(()=>u.value.reduce((a,t)=>{var _;return a+(((_=t.latestStats)==null?void 0:_.commentCount)||0)},0)),D=a=>a?a>=1e4?(a/1e4).toFixed(1)+"w":a.toString():"0",P=a=>{switch(a){case 1:return"success";case 0:return"info";case 2:return"warning";case 3:return"danger";default:return"info"}},U=a=>{switch(a){case 1:return"启用";case 0:return"停用";case 2:return"无权限";case 3:return"失败";default:return"未知"}},S=async()=>{f.value=!0;try{const a=await Mt.getMonitorList();a.code===200?(u.value=a.data||[],k.value=new Date().toLocaleString()):N.error(a.message||"加载数据失败")}catch{N.error("加载数据失败")}finally{f.value=!1}},q=a=>{a&&b.push(`/stats/${a}`)},G=async a=>{if(a==="logout")try{await it.confirm("确认退出登录？","提示",{type:"warning"}),await w.logout(),b.push("/login")}catch{}};return nt(()=>{S()}),(a,t)=>{var A;const _=dt,n=rt,H=bt,J=kt,K=ut,y=Dt,O=_t,Q=p("Star"),W=p("ChatDotRound"),v=St,z=p("Plus"),j=zt,X=Vt,Y=p("ArrowRight"),V=xt,x=At,Z=p("Setting"),tt=$t,st=ct,et=mt;return c(),m("div",Lt,[s("header",Nt,[t[4]||(t[4]=s("div",{class:"header-left"},[s("h1",{class:"system-title"},"抖音短视频分析系统")],-1)),s("div",Tt,[s("div",Bt,[e(_,{size:32,class:"user-avatar"},{default:o(()=>{var l,g;return[r(i((g=(l=d(w).user)==null?void 0:l.username)==null?void 0:g.charAt(0)),1)]}),_:1}),s("span",It,i((A=d(w).user)==null?void 0:A.username),1),e(K,{onCommand:G,class:"user-dropdown"},{dropdown:o(()=>[e(J,null,{default:o(()=>[e(H,{command:"logout"},{default:o(()=>t[3]||(t[3]=[r("退出登录",-1)])),_:1,__:[3]})]),_:1})]),default:o(()=>[e(n,{class:"dropdown-icon"},{default:o(()=>[e(d(vt))]),_:1})]),_:1})])])]),s("div",Ft,[s("nav",Pt,[e(O,{"default-active":a.$route.path,router:"",class:"sidebar-menu"},{default:o(()=>[e(y,{index:"/dashboard",class:"menu-item"},{default:o(()=>[e(n,null,{default:o(()=>[e(d(pt))]),_:1}),t[5]||(t[5]=s("span",null,"数据概览",-1))]),_:1,__:[5]}),e(y,{index:"/monitor",class:"menu-item"},{default:o(()=>[e(n,null,{default:o(()=>[e(d(ft))]),_:1}),t[6]||(t[6]=s("span",null,"监控管理",-1))]),_:1,__:[6]}),e(y,{index:"/music",class:"menu-item"},{default:o(()=>[e(n,null,{default:o(()=>[e(d(gt))]),_:1}),t[7]||(t[7]=s("span",null,"音乐管理",-1))]),_:1,__:[7]})]),_:1},8,["default-active"])]),s("main",Ut,[t[22]||(t[22]=s("div",{class:"page-header"},[s("h2",{class:"page-title"},"数据概览"),s("p",{class:"page-desc"},"实时监控您关注的抖音视频数据动态")],-1)),lt((c(),m("div",qt,[s("div",Gt,[s("div",Ht,[e(n,{size:"24"},{default:o(()=>[e(d(ht))]),_:1})]),s("div",Jt,[s("div",Kt,i(u.value.length),1),t[8]||(t[8]=s("div",{class:"stat-label"},"监控视频",-1))])]),s("div",Ot,[s("div",Qt,[e(n,{size:"24"},{default:o(()=>[e(d(wt))]),_:1})]),s("div",Wt,[s("div",jt,i(B.value),1),t[9]||(t[9]=s("div",{class:"stat-label"},"监控中",-1))])]),s("div",Xt,[s("div",Yt,[e(n,{size:"24"},{default:o(()=>[e(Q)]),_:1})]),s("div",Zt,[s("div",ts,i(D(I.value)),1),t[10]||(t[10]=s("div",{class:"stat-label"},"总点赞数",-1))])]),s("div",ss,[s("div",es,[e(n,{size:"24"},{default:o(()=>[e(W)]),_:1})]),s("div",os,[s("div",as,i(D(F.value)),1),t[11]||(t[11]=s("div",{class:"stat-label"},"总评论数",-1))])])])),[[et,f.value]]),e(st,{gutter:24,class:"content-row"},{default:o(()=>[e(x,{span:16},{default:o(()=>[e(V,{class:"content-card"},{header:o(()=>[s("div",ns,[t[13]||(t[13]=s("span",{class:"card-title"},"最新监控动态",-1)),e(v,{type:"primary",size:"small",onClick:S,loading:f.value},{default:o(()=>[e(n,null,{default:o(()=>[e(d(yt))]),_:1}),t[12]||(t[12]=r(" 刷新 ",-1))]),_:1,__:[12]},8,["loading"])])]),default:o(()=>[u.value.length===0?(c(),m("div",ls,[e(j,{description:"暂无监控视频数据"},{default:o(()=>[e(v,{type:"primary",onClick:t[0]||(t[0]=l=>a.$router.push("/monitor"))},{default:o(()=>[e(n,null,{default:o(()=>[e(z)]),_:1}),t[14]||(t[14]=r(" 添加监控视频 ",-1))]),_:1,__:[14]})]),_:1})])):(c(),m("div",is,[(c(!0),m(Ct,null,Et(u.value.slice(0,6),(l,g)=>{var $,M,R;return c(),m("div",{key:g,class:"video-item",onClick:C=>{var L;return q((L=l.monitorVideo)==null?void 0:L.awemeId)}},[s("div",rs,[s("div",us,i((($=l.monitorVideo)==null?void 0:$.awemeId)||"N/A"),1),s("div",_s,i(((M=l.monitorVideo)==null?void 0:M.videoUrl)||"N/A"),1)]),s("div",cs,[e(X,{type:P((R=l.monitorVideo)==null?void 0:R.status),size:"small"},{default:o(()=>{var C;return[r(i(U((C=l.monitorVideo)==null?void 0:C.status)),1)]}),_:2},1032,["type"])]),s("div",ms,[e(v,{type:"text",size:"small"},{default:o(()=>[t[15]||(t[15]=r(" 查看详情 ",-1)),e(n,null,{default:o(()=>[e(Y)]),_:1})]),_:1,__:[15]})])],8,ds)}),128))]))]),_:1})]),_:1}),e(x,{span:8},{default:o(()=>[e(V,{class:"content-card"},{header:o(()=>t[16]||(t[16]=[s("span",{class:"card-title"},"快速操作",-1)])),default:o(()=>[s("div",vs,[e(v,{type:"primary",size:"large",class:"action-btn",onClick:t[1]||(t[1]=l=>a.$router.push("/monitor"))},{default:o(()=>[e(n,null,{default:o(()=>[e(z)]),_:1}),t[17]||(t[17]=r(" 添加监控视频 ",-1))]),_:1,__:[17]}),e(v,{size:"large",class:"action-btn",onClick:t[2]||(t[2]=l=>a.$router.push("/monitor"))},{default:o(()=>[e(n,null,{default:o(()=>[e(Z)]),_:1}),t[18]||(t[18]=r(" 管理监控列表 ",-1))]),_:1,__:[18]}),e(tt),s("div",ps,[t[21]||(t[21]=s("h4",null,"系统信息",-1)),s("div",fs,[t[19]||(t[19]=s("span",{class:"info-label"},"登录时间：",-1)),s("span",gs,i(T.value),1)]),s("div",hs,[t[20]||(t[20]=s("span",{class:"info-label"},"最后更新：",-1)),s("span",ws,i(k.value),1)])])])]),_:1})]),_:1})]),_:1})])])])}}},xs=Rt(ys,[["__scopeId","data-v-20de73fc"]]);export{xs as default};
