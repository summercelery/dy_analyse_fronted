import{_ as at,u as nt,a as lt,r as w,n as C,p as it,q as p,o as c,c as m,d as s,e,w as o,t as i,s as d,v as dt,x as N,y as rt,z as ut,A as _t,B as ct,C as mt,D as vt,F as pt,h as r,G as ft,H as gt,I as ht,J as T,K as wt,L as yt,M as bt,N as Ct,O as Et,P as kt,Q as Dt,R as St,k as xt,S as zt,T as Vt,U as At,V as $t,W as Mt}from"./index-ebe2b180.js";/* empty css                   *//* empty css                  *//* empty css               *//* empty css                 */import{m as Rt}from"./monitor-8c9caccc.js";const Lt={class:"dashboard-layout"},Nt={class:"header"},Tt={class:"header-right"},Bt={class:"user-info"},It={class:"username"},Ft={class:"main-container"},Pt={class:"sidebar"},Ut={class:"content"},qt={class:"stats-grid"},Gt={class:"stat-card"},Ht={class:"stat-icon total"},Jt={class:"stat-content"},Kt={class:"stat-value"},Ot={class:"stat-card"},Qt={class:"stat-icon active"},Wt={class:"stat-content"},jt={class:"stat-value"},Xt={class:"stat-card"},Yt={class:"stat-icon likes"},Zt={class:"stat-content"},ts={class:"stat-value"},ss={class:"stat-card"},es={class:"stat-icon comments"},os={class:"stat-content"},as={class:"stat-value"},ns={class:"card-header"},ls={key:0,class:"empty-state"},is={key:1,class:"video-list"},ds=["onClick"],rs={class:"video-info"},us={class:"video-id"},_s={class:"video-url"},cs={class:"video-status"},ms={class:"video-action"},vs={class:"quick-actions"},ps={class:"system-info"},fs={class:"info-item"},gs={class:"info-value"},hs={class:"info-item"},ws={class:"info-value"},ys={__name:"Dashboard",setup(bs){const E=nt(),y=lt(),f=w(!1),u=w([]),B=w(new Date().toLocaleString()),k=w(""),I=C(()=>u.value.filter(a=>{var t;return((t=a.monitorVideo)==null?void 0:t.status)===1}).length),F=C(()=>u.value.reduce((a,t)=>{var _;return a+(((_=t.latestStats)==null?void 0:_.diggCount)||0)},0)),P=C(()=>u.value.reduce((a,t)=>{var _;return a+(((_=t.latestStats)==null?void 0:_.commentCount)||0)},0)),D=a=>a?a>=1e4?(a/1e4).toFixed(1)+"w":a.toString():"0",U=a=>{switch(a){case 1:return"success";case 0:return"info";case 2:return"warning";case 3:return"danger";default:return"info"}},q=a=>{switch(a){case 1:return"启用";case 0:return"停用";case 2:return"无权限";case 3:return"失败";default:return"未知"}},S=async()=>{f.value=!0;try{const a=await Rt.getMonitorList();a.code===200?(u.value=a.data||[],k.value=new Date().toLocaleString()):N.error(a.message||"加载数据失败")}catch{N.error("加载数据失败")}finally{f.value=!1}},G=a=>{a&&E.push(`/stats/${a}`)},H=async a=>{if(a==="logout")try{await rt.confirm("确认退出登录？","提示",{type:"warning"}),await y.logout(),E.push("/login")}catch{}};return it(()=>{S()}),(a,t)=>{var A;const _=ut,n=_t,J=kt,K=Dt,O=ct,g=St,Q=mt,W=p("Star"),j=p("ChatDotRound"),v=xt,x=p("Plus"),X=zt,Y=Vt,Z=p("ArrowRight"),z=At,V=$t,tt=p("Setting"),st=Mt,et=vt,ot=pt;return c(),m("div",Lt,[s("header",Nt,[t[4]||(t[4]=s("div",{class:"header-left"},[s("h1",{class:"system-title"},"抖音短视频分析系统")],-1)),s("div",Tt,[s("div",Bt,[e(_,{size:32,class:"user-avatar"},{default:o(()=>{var l,h;return[r(i((h=(l=d(y).user)==null?void 0:l.username)==null?void 0:h.charAt(0)),1)]}),_:1}),s("span",It,i((A=d(y).user)==null?void 0:A.username),1),e(O,{onCommand:H,class:"user-dropdown"},{dropdown:o(()=>[e(K,null,{default:o(()=>[e(J,{command:"logout"},{default:o(()=>t[3]||(t[3]=[r("退出登录",-1)])),_:1,__:[3]})]),_:1})]),default:o(()=>[e(n,{class:"dropdown-icon"},{default:o(()=>[e(d(ft))]),_:1})]),_:1})])])]),s("div",Ft,[s("nav",Pt,[e(Q,{"default-active":a.$route.path,router:"",class:"sidebar-menu"},{default:o(()=>[e(g,{index:"/dashboard",class:"menu-item"},{default:o(()=>[e(n,null,{default:o(()=>[e(d(gt))]),_:1}),t[5]||(t[5]=s("span",null,"数据概览",-1))]),_:1,__:[5]}),e(g,{index:"/monitor",class:"menu-item"},{default:o(()=>[e(n,null,{default:o(()=>[e(d(ht))]),_:1}),t[6]||(t[6]=s("span",null,"监控管理",-1))]),_:1,__:[6]}),e(g,{index:"/music",class:"menu-item"},{default:o(()=>[e(n,null,{default:o(()=>[e(d(T))]),_:1}),t[7]||(t[7]=s("span",null,"音乐管理",-1))]),_:1,__:[7]}),e(g,{index:"/music-monitor",class:"menu-item"},{default:o(()=>[e(n,null,{default:o(()=>[e(d(T))]),_:1}),t[8]||(t[8]=s("span",null,"音乐监控",-1))]),_:1,__:[8]})]),_:1},8,["default-active"])]),s("main",Ut,[t[23]||(t[23]=s("div",{class:"page-header"},[s("h2",{class:"page-title"},"数据概览"),s("p",{class:"page-desc"},"实时监控您关注的抖音视频数据动态")],-1)),dt((c(),m("div",qt,[s("div",Gt,[s("div",Ht,[e(n,{size:"24"},{default:o(()=>[e(d(wt))]),_:1})]),s("div",Jt,[s("div",Kt,i(u.value.length),1),t[9]||(t[9]=s("div",{class:"stat-label"},"监控视频",-1))])]),s("div",Ot,[s("div",Qt,[e(n,{size:"24"},{default:o(()=>[e(d(yt))]),_:1})]),s("div",Wt,[s("div",jt,i(I.value),1),t[10]||(t[10]=s("div",{class:"stat-label"},"监控中",-1))])]),s("div",Xt,[s("div",Yt,[e(n,{size:"24"},{default:o(()=>[e(W)]),_:1})]),s("div",Zt,[s("div",ts,i(D(F.value)),1),t[11]||(t[11]=s("div",{class:"stat-label"},"总点赞数",-1))])]),s("div",ss,[s("div",es,[e(n,{size:"24"},{default:o(()=>[e(j)]),_:1})]),s("div",os,[s("div",as,i(D(P.value)),1),t[12]||(t[12]=s("div",{class:"stat-label"},"总评论数",-1))])])])),[[ot,f.value]]),e(et,{gutter:24,class:"content-row"},{default:o(()=>[e(V,{span:16},{default:o(()=>[e(z,{class:"content-card"},{header:o(()=>[s("div",ns,[t[14]||(t[14]=s("span",{class:"card-title"},"最新监控动态",-1)),e(v,{type:"primary",size:"small",onClick:S,loading:f.value},{default:o(()=>[e(n,null,{default:o(()=>[e(d(bt))]),_:1}),t[13]||(t[13]=r(" 刷新 ",-1))]),_:1,__:[13]},8,["loading"])])]),default:o(()=>[u.value.length===0?(c(),m("div",ls,[e(X,{description:"暂无监控视频数据"},{default:o(()=>[e(v,{type:"primary",onClick:t[0]||(t[0]=l=>a.$router.push("/monitor"))},{default:o(()=>[e(n,null,{default:o(()=>[e(x)]),_:1}),t[15]||(t[15]=r(" 添加监控视频 ",-1))]),_:1,__:[15]})]),_:1})])):(c(),m("div",is,[(c(!0),m(Ct,null,Et(u.value.slice(0,6),(l,h)=>{var $,M,R;return c(),m("div",{key:h,class:"video-item",onClick:b=>{var L;return G((L=l.monitorVideo)==null?void 0:L.awemeId)}},[s("div",rs,[s("div",us,i((($=l.monitorVideo)==null?void 0:$.awemeId)||"N/A"),1),s("div",_s,i(((M=l.monitorVideo)==null?void 0:M.videoUrl)||"N/A"),1)]),s("div",cs,[e(Y,{type:U((R=l.monitorVideo)==null?void 0:R.status),size:"small"},{default:o(()=>{var b;return[r(i(q((b=l.monitorVideo)==null?void 0:b.status)),1)]}),_:2},1032,["type"])]),s("div",ms,[e(v,{type:"text",size:"small"},{default:o(()=>[t[16]||(t[16]=r(" 查看详情 ",-1)),e(n,null,{default:o(()=>[e(Z)]),_:1})]),_:1,__:[16]})])],8,ds)}),128))]))]),_:1})]),_:1}),e(V,{span:8},{default:o(()=>[e(z,{class:"content-card"},{header:o(()=>t[17]||(t[17]=[s("span",{class:"card-title"},"快速操作",-1)])),default:o(()=>[s("div",vs,[e(v,{type:"primary",size:"large",class:"action-btn",onClick:t[1]||(t[1]=l=>a.$router.push("/monitor"))},{default:o(()=>[e(n,null,{default:o(()=>[e(x)]),_:1}),t[18]||(t[18]=r(" 添加监控视频 ",-1))]),_:1,__:[18]}),e(v,{size:"large",class:"action-btn",onClick:t[2]||(t[2]=l=>a.$router.push("/monitor"))},{default:o(()=>[e(n,null,{default:o(()=>[e(tt)]),_:1}),t[19]||(t[19]=r(" 管理监控列表 ",-1))]),_:1,__:[19]}),e(st),s("div",ps,[t[22]||(t[22]=s("h4",null,"系统信息",-1)),s("div",fs,[t[20]||(t[20]=s("span",{class:"info-label"},"登录时间：",-1)),s("span",gs,i(B.value),1)]),s("div",hs,[t[21]||(t[21]=s("span",{class:"info-label"},"最后更新：",-1)),s("span",ws,i(k.value),1)])])])]),_:1})]),_:1})]),_:1})])])])}}},zs=at(ys,[["__scopeId","data-v-6bc1c5ba"]]);export{zs as default};
