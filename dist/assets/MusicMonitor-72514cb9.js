import{_ as E,u as V,r as v,n as N,p as $,o as i,c as n,d as s,e as a,s as p,v as B,N as D,O as I,a3 as h,x as S,i as z,F as T,a0 as A,w as f,J as F,I as K,f as J,t as r,K as O,h as R,A as U,k as j,ac as q,S as G}from"./index-ebe2b180.js";/* empty css                   *//* empty css                 *//* empty css                 */import{m as H}from"./music-02d5a60f.js";const P={class:"music-monitor-page"},Q={class:"search-section"},W={class:"music-grid"},X=["onClick"],Y={class:"music-header"},Z={class:"music-icon"},ee={class:"music-actions"},te={class:"music-content"},se=["title"],oe={class:"music-author"},ae={key:0,class:"music-album"},ie={key:1,class:"music-duration"},ne={class:"music-footer"},ce={class:"music-stats"},le={class:"stat-item"},re={key:0,class:"empty-state"},ue={__name:"MusicMonitor",setup(de){const M=V(),u=v(!1),m=v([]),d=v(""),g=N(()=>{if(!d.value)return m.value;const e=d.value.toLowerCase();return m.value.filter(o=>{var c,l,_;return((c=o.title)==null?void 0:c.toLowerCase().includes(e))||((l=o.author)==null?void 0:l.toLowerCase().includes(e))||((_=o.album)==null?void 0:_.toLowerCase().includes(e))})}),k=async()=>{u.value=!0;try{const e=await H.getMusicList();m.value=e.data||[]}catch(e){console.error("加载音乐列表失败:",e),S.error("加载音乐列表失败")}finally{u.value=!1}},y=e=>{M.push(`/music-monitor/${e}`)},w=e=>{if(!e)return"";const o=Math.floor(e/60),c=e%60;return`${o}:${c.toString().padStart(2,"0")}`};return $(()=>{k()}),(e,o)=>{const c=z,l=U,_=j,C=q,L=G,x=T;return i(),n("div",P,[o[1]||(o[1]=s("div",{class:"page-header"},[s("h2",{class:"page-title"},"音乐监控"),s("p",{class:"page-desc"},"选择音乐查看对应的监控视频数据")],-1)),s("div",Q,[a(c,{modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=t=>d.value=t),placeholder:"搜索音乐标题、作者或专辑","prefix-icon":p(A),class:"search-input",clearable:"",size:"large"},null,8,["modelValue","prefix-icon"])]),B((i(),n("div",W,[(i(!0),n(D,null,I(g.value,t=>(i(),n("div",{key:t.id,class:"music-card",onClick:b=>y(t.id)},[s("div",Y,[s("div",Z,[a(l,{size:"24"},{default:f(()=>[a(p(F))]),_:1})]),s("div",ee,[a(C,{content:"查看监控详情",placement:"top"},{default:f(()=>[a(_,{type:"primary",size:"small",icon:p(K),circle:"",onClick:J(b=>y(t.id),["stop"])},null,8,["icon","onClick"])]),_:2},1024)])]),s("div",te,[s("h3",{class:"music-title",title:t.title},r(t.title),9,se),s("p",oe,r(t.author),1),t.album?(i(),n("p",ae,"专辑："+r(t.album),1)):h("",!0),t.duration?(i(),n("p",ie," 时长："+r(w(t.duration)),1)):h("",!0)]),s("div",ne,[s("div",ce,[s("span",le,[a(l,null,{default:f(()=>[a(p(O))]),_:1}),R(" "+r(t.monitorCount||0)+" 个监控 ",1)])])])],8,X))),128))])),[[x,u.value]]),!u.value&&g.value.length===0?(i(),n("div",re,[a(L,{description:"暂无音乐数据"})])):h("",!0)])}}},fe=E(ue,[["__scopeId","data-v-64b1ce92"]]);export{fe as default};
