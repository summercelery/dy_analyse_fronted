import{_ as sl}from"./_plugin-vue_export-helper-d6af9df2.js";/* empty css                  *//* empty css                             *//* empty css                *//* empty css                       */import{f as M}from"./favorite-ec897acd.js";/* empty css                     *//* empty css                     *//* empty css                  *//* empty css                        */import{u as rl,a as ul,r as c,az as nl,q as il,o as u,c as m,d as s,e as l,w as t,t as v,v as V,F as ae,x as te,A as k,y as h,B as p,C as dl,D as cl,H as vl,I as ml,k as pl,i as _l,J as fl,L as gl,M as hl,h as i,N as bl,O as yl,P as Ve,W as kl,X as Cl,Y as Ie,aP as Fl,a0 as O,z as De,aA as wl,ac as Le,ad as El,G as Al,ae as Vl,af as Il,ag as Dl,ai as Ll,ah as xl,ak as Tl,al as Sl,aj as Nl,am as Ul,ao as zl,j as Bl,l as $l,aw as Ml,aq as Ol,au as Pl,an as Rl,av as jl,ay as ql}from"./index-a434c30f.js";const Gl={class:"favorite-layout"},Jl={class:"header"},Wl={class:"header-right"},Hl={class:"user-info"},Kl={class:"username"},Xl={class:"main-container"},Yl={class:"sidebar"},Ql={class:"content"},Zl={class:"toolbar"},ea={class:"toolbar-left"},la={class:"toolbar-right"},aa={class:"search-filter-container"},ta={key:0,class:"tag-filter-section"},oa={class:"tag-filter-row"},sa={class:"tag-filter-content"},ra={class:"filter-group"},ua={class:"tag-count"},na={key:0,class:"empty-container"},ia={class:"nickname-cell"},da=["onClick"],ca={class:"desc-cell"},va={key:1,class:"desc-cell"},ma={class:"stat-number"},pa={class:"stat-number"},_a={key:1},fa={key:1},ga={class:"music-cell"},ha={class:"music-tags"},ba={key:0,class:"more-music"},ya={key:1,class:"no-music"},ka={key:0,class:"investment-amount"},Ca={key:1,class:"no-investment"},Fa={class:"remark-cell"},wa={key:0,class:"remark-text"},Ea={key:1,class:"no-remark"},Aa={key:2,class:"pagination-container"},Va={class:"color-selection-container"},Ia={class:"color-palette"},Da={class:"color-group"},La={class:"color-row"},xa=["onClick","title"],Ta={key:0,class:"selected-color-display"},Sa=["title"],Na={class:"selected-value"},Ua={key:0,class:"author-info-dialog"},za={class:"author-avatar-section"},Ba={class:"author-basic-info"},$a={class:"user-id"},Ma={key:0,class:"favorite-tags"},Oa={key:3,class:"color-tag"},Pa=["title"],Ra={class:"author-stats"},ja={class:"stat-item"},qa={class:"stat-item"},Ga={key:0,class:"author-details"},Ja={class:"author-description"},Wa={class:"remark-display"},Ha={class:"color-selection-container"},Ka={class:"color-palette"},Xa={class:"color-group"},Ya={class:"color-row"},Qa=["onClick","title"],Za={key:0,class:"selected-color-display"},et=["title"],lt={class:"selected-value"},at={__name:"FavoriteAuthor",setup(tt){const xe=rl(),x=ul(),P=c(!1),N=c([]),oe=c(0),K=c("");c(null);const R=c([]),ve=c(!1),D=c(1),X=c(10),j=c(0),f=c({channelType:"",authorLevel:null,sortBy:"create_time",sortOrder:"DESC",musicId:null}),q=c(!1),se=c(!1),G=c({email:""}),Y=c(!1),Q=c(!1),d=c(null),U=c(!1),F=c(!1),g=c(null),me=nl(()=>Array.isArray(N.value)?N.value:[]),pe=o=>{if(o==null)return"N/A";const e=parseInt(o);return e>=1e4?(e/1e4).toFixed(1)+"w":e.toString()},_e=o=>{switch(o){case 1:return"info";case 2:return"success";case 3:return"warning";default:return"info"}},fe=o=>{switch(o){case 1:return"普通";case 2:return"优质";case 3:return"顶级";default:return"未知"}},E=async()=>{var o;if(!((o=x.user)!=null&&o.id)){p.error("用户信息不完整，请重新登录");return}P.value=!0;try{const e={channelType:f.value.channelType||void 0,authorLevel:f.value.authorLevel||void 0,sortBy:f.value.sortBy,sortOrder:f.value.sortOrder,keyword:K.value||void 0,musicId:f.value.musicId||void 0},n=await M.getFavoriteList(D.value,X.value,e);if(n.success){const _=n.data,ie=(Array.isArray(_.list)?_.list:[]).map(T=>({...T,musicNames:T.musicNames?(()=>{try{return typeof T.musicNames=="string"?JSON.parse(T.musicNames):T.musicNames}catch(ee){return console.warn("解析 musicNames 失败:",ee),[]}})():[]}));N.value=ie,j.value=_.total||0,oe.value=_.total||0}else p.error(n.message||"加载收藏列表失败"),N.value=[],j.value=0,oe.value=0}catch(e){console.error("加载收藏列表失败:",e),p.error("加载收藏列表失败"),N.value=[],j.value=0,oe.value=0}finally{P.value=!1}},Te=o=>{D.value=o,E()},Se=o=>{X.value=o,D.value=1,E()},Z=()=>{D.value=1,E()},Ne=()=>{f.value={channelType:"",authorLevel:null,sortBy:"create_time",sortOrder:"DESC",musicId:null},K.value="",D.value=1,E()},Ue=async()=>{ve.value=!0;try{const o=await M.getMusicStatistics();o.success?R.value=o.data||[]:(console.error("获取音乐统计失败:",o.message),R.value=[])}catch(o){console.error("获取音乐统计失败:",o),R.value=[]}finally{ve.value=!1}},ze=o=>{f.value.musicId===o?f.value.musicId=null:f.value.musicId=o,D.value=1,E()},Be=()=>{f.value.musicId=null,D.value=1,E()},ge=o=>{const e=o==null?void 0:o.authorId;e?(Y.value=!0,Me(e)):p.warning("播主信息不完整")},$e=()=>{if(!d.value)return;const o=N.value.find(e=>e.authorId===d.value.id);o?Ke(o):p.warning("未找到收藏信息，无法编辑")},Me=async o=>{Q.value=!0;try{const e=await M.getFavoriteDetail(o);e.success?(d.value={id:e.data.authorId,userId:e.data.authorUserId,nickname:e.data.authorNickname,authorAvatar:e.data.authorAvatar,userDesc:e.data.authorDesc,userUrl:e.data.authorUrl,followerCount:e.data.followerCount,totalFavorited:e.data.totalFavorited},F.value=e.data.id!==null,F.value?g.value={channelType:e.data.channelType,authorLevel:e.data.authorLevel,backgroundColor:e.data.backgroundColor,remark:e.data.remark,totalInvestmentAmount:e.data.totalInvestmentAmount}:g.value=null):(p.error(e.message||"获取播主信息失败"),d.value=null,F.value=!1,g.value=null)}catch(e){console.error("获取播主信息失败:",e),p.error("获取播主信息失败"),d.value=null,F.value=!1,g.value=null}finally{Q.value=!1}},Oe=()=>{Y.value=!1,d.value=null,F.value=!1,g.value=null},he=o=>o?o>=1e4?(o/1e4).toFixed(1)+"w":o.toString():"0",be=o=>{if(!o||o===0)return"0";const e=parseFloat(o);return e>=1e4?(e/1e4).toFixed(1)+"万":e.toLocaleString("zh-CN",{minimumFractionDigits:0,maximumFractionDigits:2})},Pe=()=>{D.value=1,E()},Re=async o=>{var e;if(o==="updateEmail"){G.value.email=((e=x.user)==null?void 0:e.email)||"",q.value=!0;return}if(o==="logout")try{await dl.confirm("确认退出登录？","提示",{type:"warning"}),await x.logout(),xe.push("/login")}catch{}},je=o=>/^[\w.!#$%&'*+/=?^`{|}~-]+@[\w-]+(\.[\w-]+)+$/.test(o),qe=async()=>{const o=(G.value.email||"").trim();if(!o){p.warning("请输入邮箱地址");return}if(!je(o)){p.warning("邮箱格式不正确");return}se.value=!0;try{const e=await El.updateEmail({email:o});e.code===200?(x.setUser({...x.user||{},email:o}),p.success("邮箱更新成功"),q.value=!1):p.error(e.message||"邮箱更新失败")}catch{p.error("邮箱更新失败，请稍后重试")}finally{se.value=!1}},Ge=async()=>{var o,e;if(!((o=d.value)!=null&&o.id)||!((e=x.user)!=null&&e.id)){p.error("用户或播主信息不完整");return}if(F.value){U.value=!0;try{if(!d.value.id){p.error("播主ID不完整，无法取消收藏");return}const n=await M.removeFavorite(d.value.id);n.success?(F.value=!1,p.success("取消收藏成功"),await E()):p.error(n.message||"取消收藏失败")}catch(n){console.error("取消收藏失败:",n),p.error("取消收藏失败，请稍后重试")}finally{U.value=!1}}else Je()},Je=()=>{var o,e,n;y.value={channelType:((o=d.value)==null?void 0:o.channelType)||"",authorLevel:((e=d.value)==null?void 0:e.authorLevel)||1,backgroundColor:((n=d.value)==null?void 0:n.backgroundColor)||"",remark:""},H.value=!0},J=c(!1),re=c(null),b=c({channelType:"",authorLevel:1,backgroundColor:"",remark:""}),W=c(null),ue=c(!1),H=c(!1),ne=c(null),y=c({channelType:"",authorLevel:1,backgroundColor:"",remark:""}),We={channelType:[{max:50,message:"频道类型不能超过50个字符",trigger:"blur"}],backgroundColor:[{validator:(o,e,n)=>{if(!e||e.trim()===""){n();return}const _=/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/,A=/^rgba?\(\s*([01]?\d\d?|2[0-4]\d|25[0-5])\s*,\s*([01]?\d\d?|2[0-4]\d|25[0-5])\s*,\s*([01]?\d\d?|2[0-4]\d|25[0-5])\s*(?:,\s*(0(?:\.\d+)?|1(?:\.0+)?))?\s*\)$/;!_.test(e)&&!A.test(e)?n(new Error("请输入有效的颜色代码，格式如：#FF0000 或 rgb(255, 0, 0)")):n()},trigger:"blur"}],remark:[{max:200,message:"备注信息不能超过200个字符",trigger:"blur"}]},He={channelType:[{max:50,message:"频道类型不能超过50个字符",trigger:"blur"}],backgroundColor:[{validator:(o,e,n)=>{if(!e||e.trim()===""){n();return}const _=/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/,A=/^rgba?\(\s*([01]?\d\d?|2[0-4]\d|25[0-5])\s*,\s*([01]?\d\d?|2[0-4]\d|25[0-5])\s*,\s*([01]?\d\d?|2[0-4]\d|25[0-5])\s*(?:,\s*(0(?:\.\d+)?|1(?:\.0+)?))?\s*\)$/;!_.test(e)&&!A.test(e)?n(new Error("请输入有效的颜色代码，格式如：#FF0000 或 rgb(255, 0, 0)")):n()},trigger:"blur"}],remark:[{max:200,message:"备注信息不能超过200个字符",trigger:"blur"}]},ye=()=>{H.value=!1,y.value={channelType:"",authorLevel:1,backgroundColor:"",remark:""}},Ke=o=>{W.value=o,b.value={channelType:o.channelType||"",authorLevel:o.authorLevel||1,backgroundColor:o.backgroundColor||"",remark:o.remark||""},J.value=!0},ke=()=>{J.value=!1,W.value=null,b.value={channelType:"",authorLevel:1,backgroundColor:"",remark:""}},Xe=async()=>{var o;if(re.value){try{await re.value.validate()}catch{return}if(!((o=W.value)!=null&&o.id)){p.error("播主信息不完整");return}ue.value=!0;try{const e={id:W.value.id,...b.value};Object.keys(e).forEach(_=>{(e[_]===""||e[_]===null||e[_]===void 0)&&delete e[_]});const n=await M.updateFavoriteConfig(e);n.success?(J.value=!1,p.success("收藏配置更新成功"),ke(),await E()):p.error(n.message||"收藏配置更新失败")}catch(e){console.error("更新收藏配置失败:",e),p.error("更新收藏配置失败，请稍后重试")}finally{ue.value=!1}}},Ye=async()=>{var o,e;if(ne.value){try{await ne.value.validate()}catch{return}if(!((o=d.value)!=null&&o.id)||!((e=x.user)!=null&&e.id)){p.error("用户或播主信息不完整");return}U.value=!0;try{const n={authorId:d.value.id,...y.value};Object.keys(n).forEach(A=>{(n[A]===""||n[A]===null||n[A]===void 0)&&delete n[A]});const _=await M.addFavoriteWithSettings(n);_.success?(F.value=!0,H.value=!1,p.success("收藏成功"),ye(),await E()):p.error(_.message||"收藏失败")}catch(n){console.error("收藏操作失败:",n),p.error("收藏失败，请稍后重试")}finally{U.value=!1}}};return il(()=>{E(),Ue()}),(o,e)=>{var Ae;const n=cl,_=Al,A=Vl,ie=Il,T=vl,ee=Dl,Qe=ml,w=pl,z=_l,r=Ll,B=fl,S=xl,Ce=Tl,L=Sl,Fe=Nl,Ze=Ul,el=zl,ll=gl,I=Bl,de=$l,le=hl,$=Ml,we=Ol,ce=Pl,al=Rl,tl=jl,Ee=ql;return u(),m("div",Gl,[s("header",Jl,[e[23]||(e[23]=s("div",{class:"header-left"},[s("h1",{class:"system-title"},"抖音短视频分析系统")],-1)),s("div",Wl,[s("div",Hl,[l(n,{size:32,class:"user-avatar"},{default:t(()=>{var a,C;return[i(v((C=(a=V(x).user)==null?void 0:a.username)==null?void 0:C.charAt(0)),1)]}),_:1}),s("span",Kl,v((Ae=V(x).user)==null?void 0:Ae.username),1),l(T,{onCommand:Re,class:"user-dropdown"},{dropdown:t(()=>[l(ie,null,{default:t(()=>[l(A,{command:"updateEmail"},{default:t(()=>e[21]||(e[21]=[i("更新邮箱",-1)])),_:1,__:[21]}),l(A,{command:"logout"},{default:t(()=>e[22]||(e[22]=[i("退出登录",-1)])),_:1,__:[22]})]),_:1})]),default:t(()=>[l(_,{class:"dropdown-icon"},{default:t(()=>[l(V(bl))]),_:1})]),_:1})])])]),s("div",Xl,[s("nav",Yl,[l(Qe,{"default-active":o.$route.path,router:"",class:"sidebar-menu"},{default:t(()=>[l(ee,{index:"/music",class:"menu-item"},{default:t(()=>[l(_,null,{default:t(()=>[l(V(yl))]),_:1}),e[24]||(e[24]=s("span",null,"音乐管理",-1))]),_:1,__:[24]}),l(ee,{index:"/favorite-author",class:"menu-item"},{default:t(()=>[l(_,null,{default:t(()=>[l(V(Ve))]),_:1}),e[25]||(e[25]=s("span",null,"收藏播主",-1))]),_:1,__:[25]})]),_:1},8,["default-active"])]),s("main",Ql,[e[32]||(e[32]=s("div",{class:"page-header"},[s("h2",{class:"page-title"},"收藏播主"),s("p",{class:"page-desc"},"管理您收藏的播主，查看播主详细信息")],-1)),s("div",Zl,[s("div",ea,[l(w,{type:"primary",onClick:E,icon:V(kl),loading:P.value},{default:t(()=>e[26]||(e[26]=[i(" 刷新列表 ",-1)])),_:1,__:[26]},8,["icon","loading"]),l(w,{type:"default",onClick:Ne,size:"default"},{default:t(()=>e[27]||(e[27]=[i(" 重置筛选 ",-1)])),_:1,__:[27]})]),s("div",la,[s("div",aa,[l(z,{modelValue:K.value,"onUpdate:modelValue":e[0]||(e[0]=a=>K.value=a),placeholder:"搜索播主昵称、描述或标签","prefix-icon":V(Cl),style:{width:"280px"},clearable:"",onInput:Pe},null,8,["modelValue","prefix-icon"]),l(B,{modelValue:f.value.channelType,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value.channelType=a),placeholder:"全部类型",clearable:"",style:{width:"130px"},onChange:Z},{default:t(()=>[l(r,{label:"美食",value:"美食"}),l(r,{label:"美妆",value:"美妆"}),l(r,{label:"时尚",value:"时尚"}),l(r,{label:"娱乐",value:"娱乐"}),l(r,{label:"音乐",value:"音乐"}),l(r,{label:"舞蹈",value:"舞蹈"}),l(r,{label:"游戏",value:"游戏"}),l(r,{label:"科技",value:"科技"}),l(r,{label:"教育",value:"教育"}),l(r,{label:"旅游",value:"旅游"}),l(r,{label:"汽车",value:"汽车"}),l(r,{label:"体育",value:"体育"}),l(r,{label:"生活",value:"生活"}),l(r,{label:"搞笑",value:"搞笑"}),l(r,{label:"知识",value:"知识"}),l(r,{label:"直播",value:"直播"}),l(r,{label:"其他",value:"其他"})]),_:1},8,["modelValue"]),l(B,{modelValue:f.value.authorLevel,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value.authorLevel=a),placeholder:"全部等级",clearable:"",style:{width:"100px"},onChange:Z},{default:t(()=>[l(r,{label:"普通",value:1}),l(r,{label:"优质",value:2}),l(r,{label:"顶级",value:3})]),_:1},8,["modelValue"]),l(B,{modelValue:f.value.sortBy,"onUpdate:modelValue":e[3]||(e[3]=a=>f.value.sortBy=a),style:{width:"120px"},onChange:Z},{default:t(()=>[l(r,{label:"收藏时间",value:"create_time"}),l(r,{label:"粉丝数",value:"fans_count"}),l(r,{label:"获赞数",value:"digg_count"}),l(r,{label:"播主等级",value:"author_level"})]),_:1},8,["modelValue"]),l(B,{modelValue:f.value.sortOrder,"onUpdate:modelValue":e[4]||(e[4]=a=>f.value.sortOrder=a),style:{width:"80px"},onChange:Z},{default:t(()=>[l(r,{label:"降序",value:"DESC"}),l(r,{label:"升序",value:"ASC"})]),_:1},8,["modelValue"])])])]),R.value.length>0?(u(),m("div",ta,[s("div",oa,[s("div",sa,[s("div",ra,[e[28]||(e[28]=s("span",{class:"filter-group-title"},"按音乐筛选：",-1)),(u(!0),m(ae,null,te(R.value,a=>(u(),k(S,{key:a.musicId,size:"large",type:f.value.musicId===a.musicId?"primary":"info",effect:f.value.musicId===a.musicId?"dark":"light",class:"filter-tag",onClick:C=>ze(a.musicId)},{default:t(()=>[i(v(a.musicTitle)+" ",1),s("span",ua," ("+v(a.favoriteCount)+") ",1)]),_:2},1032,["type","effect","onClick"]))),128))])]),f.value.musicId?(u(),k(w,{key:0,type:"text",size:"small",onClick:Be,class:"clear-tags-btn"},{default:t(()=>e[29]||(e[29]=[i(" 清除筛选 (1) ",-1)])),_:1,__:[29]})):h("",!0)])])):h("",!0),l(ll,{class:"favorite-table-card"},{header:t(()=>e[30]||(e[30]=[s("div",{class:"card-header"},[s("span",{class:"card-title"},"收藏播主列表")],-1)])),default:t(()=>[Ie((u(),m("div",null,[me.value.length===0&&!P.value?(u(),m("div",na,[l(Ce,{description:"暂无收藏播主"},{description:t(()=>e[31]||(e[31]=[s("span",null,"您还没有收藏任何播主",-1),s("br",null,null,-1),s("small",null,"可以在播主详情页面进行收藏",-1)])),_:1})])):(u(),k(Ze,{key:1,data:me.value,stripe:"",style:{width:"100%"}},{default:t(()=>[l(L,{prop:"authorAvatar",label:"头像",width:"80",align:"center"},{default:t(({row:a})=>[l(n,{size:40,src:a.authorAvatar,onClick:C=>ge(a),class:"avatar-clickable"},{default:t(()=>[l(_,null,{default:t(()=>[l(V(Fl))]),_:1})]),_:2},1032,["src","onClick"])]),_:1}),l(L,{prop:"authorNickname",label:"昵称","min-width":"80"},{default:t(({row:a})=>[s("div",ia,[s("span",{class:"nickname-link",style:O({backgroundColor:a.backgroundColor||"transparent"}),onClick:C=>ge(a)},v(a.authorNickname||"N/A"),13,da)])]),_:1}),l(L,{prop:"authorDesc",label:"描述","min-width":"200"},{default:t(({row:a})=>[a.authorDesc?(u(),k(Fe,{key:0,content:a.authorDesc,placement:"top-start",disabled:a.authorDesc.length<=80,effect:"dark","show-after":300},{default:t(()=>[s("div",ca,v(a.authorDesc),1)]),_:2},1032,["content","disabled"])):(u(),m("div",va," 暂无描述 "))]),_:1}),l(L,{prop:"followerCount",label:"粉丝数",width:"100",align:"right"},{default:t(({row:a})=>[s("span",ma,v(pe(a.followerCount)),1)]),_:1}),l(L,{prop:"totalFavorited",label:"获赞数",width:"100",align:"right"},{default:t(({row:a})=>[s("span",pa,v(pe(a.totalFavorited)),1)]),_:1}),l(L,{prop:"channelType",label:"类型",width:"100",align:"center"},{default:t(({row:a})=>[a.channelType?(u(),k(S,{key:0,size:"small",type:"primary"},{default:t(()=>[i(v(a.channelType),1)]),_:2},1024)):(u(),m("span",_a,"-"))]),_:1}),l(L,{prop:"authorLevel",label:"播主等级",width:"100",align:"center"},{default:t(({row:a})=>[a.authorLevel?(u(),k(S,{key:0,type:_e(a.authorLevel),size:"small"},{default:t(()=>[i(v(fe(a.authorLevel)),1)]),_:2},1032,["type"])):(u(),m("span",fa,"-"))]),_:1}),l(L,{prop:"musicNames",label:"相关音乐","min-width":"80"},{default:t(({row:a})=>[s("div",ga,[a.musicNames&&a.musicNames.length>0?(u(),k(Fe,{key:0,content:a.musicNames.join("、"),placement:"top-start",disabled:a.musicNames.length<=3,effect:"dark","show-after":300},{default:t(()=>[s("div",ha,[(u(!0),m(ae,null,te(a.musicNames.slice(0,3),(C,ol)=>(u(),k(S,{key:ol,size:"small",type:"success",class:"music-tag"},{default:t(()=>[i(v(C),1)]),_:2},1024))),128)),a.musicNames.length>3?(u(),m("span",ba," +"+v(a.musicNames.length-3),1)):h("",!0)])]),_:2},1032,["content","disabled"])):(u(),m("span",ya,"暂无音乐"))])]),_:1}),l(L,{prop:"totalInvestmentAmount",label:"投资总额",width:"100"},{default:t(({row:a})=>[a.totalInvestmentAmount?(u(),m("span",ka," ¥"+v(be(a.totalInvestmentAmount)),1)):(u(),m("span",Ca,"-"))]),_:1}),l(L,{prop:"remark",label:"备注","min-width":"200"},{default:t(({row:a})=>[s("div",Fa,[a.remark?(u(),m("span",wa,v(a.remark),1)):(u(),m("span",Ea,"暂无备注"))])]),_:1})]),_:1},8,["data"])),j.value>0?(u(),m("div",Aa,[l(el,{"current-page":D.value,"onUpdate:currentPage":e[5]||(e[5]=a=>D.value=a),"page-size":X.value,"onUpdate:pageSize":e[6]||(e[6]=a=>X.value=a),"page-sizes":[10,20,50,100],total:j.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Se,onCurrentChange:Te},null,8,["current-page","page-size","total"])])):h("",!0)])),[[Ee,P.value]])]),_:1})])]),l(le,{modelValue:q.value,"onUpdate:modelValue":e[9]||(e[9]=a=>q.value=a),title:"更新邮箱",width:"420px"},{footer:t(()=>[l(w,{onClick:e[8]||(e[8]=a=>q.value=!1)},{default:t(()=>e[33]||(e[33]=[i("取消",-1)])),_:1,__:[33]}),l(w,{type:"primary",loading:se.value,onClick:qe},{default:t(()=>e[34]||(e[34]=[i("确定",-1)])),_:1,__:[34]},8,["loading"])]),default:t(()=>[l(de,{model:G.value,"label-width":"80px"},{default:t(()=>[l(I,{label:"邮箱"},{default:t(()=>[l(z,{modelValue:G.value.email,"onUpdate:modelValue":e[7]||(e[7]=a=>G.value.email=a),placeholder:"请输入新的邮箱地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(le,{modelValue:J.value,"onUpdate:modelValue":e[14]||(e[14]=a=>J.value=a),title:"编辑播主设置",width:"500px","close-on-click-modal":!1},{footer:t(()=>[l(w,{onClick:ke},{default:t(()=>e[41]||(e[41]=[i("取消",-1)])),_:1,__:[41]}),l(w,{type:"primary",onClick:Xe,loading:ue.value},{default:t(()=>e[42]||(e[42]=[i(" 保存设置 ",-1)])),_:1,__:[42]},8,["loading"])]),default:t(()=>[l(de,{model:b.value,"label-width":"100px",rules:We,ref_key:"editFormRef",ref:re},{default:t(()=>[l(I,{label:"播主昵称"},{default:t(()=>{var a;return[l(z,{value:((a=W.value)==null?void 0:a.authorNickname)||"",disabled:""},null,8,["value"])]}),_:1}),l(I,{label:"频道类型",prop:"channelType"},{default:t(()=>[l(B,{modelValue:b.value.channelType,"onUpdate:modelValue":e[10]||(e[10]=a=>b.value.channelType=a),placeholder:"请选择频道类型",style:{width:"100%"},clearable:"",filterable:"","allow-create":""},{default:t(()=>[l(r,{label:"美食",value:"美食"}),l(r,{label:"美妆",value:"美妆"}),l(r,{label:"时尚",value:"时尚"}),l(r,{label:"娱乐",value:"娱乐"}),l(r,{label:"音乐",value:"音乐"}),l(r,{label:"舞蹈",value:"舞蹈"}),l(r,{label:"游戏",value:"游戏"}),l(r,{label:"科技",value:"科技"}),l(r,{label:"教育",value:"教育"}),l(r,{label:"旅游",value:"旅游"}),l(r,{label:"汽车",value:"汽车"}),l(r,{label:"体育",value:"体育"}),l(r,{label:"生活",value:"生活"}),l(r,{label:"搞笑",value:"搞笑"}),l(r,{label:"知识",value:"知识"}),l(r,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),l(I,{label:"播主等级",prop:"authorLevel"},{default:t(()=>[l(we,{modelValue:b.value.authorLevel,"onUpdate:modelValue":e[11]||(e[11]=a=>b.value.authorLevel=a)},{default:t(()=>[l($,{value:1},{default:t(()=>e[35]||(e[35]=[i("普通",-1)])),_:1,__:[35]}),l($,{value:2},{default:t(()=>e[36]||(e[36]=[i("优质",-1)])),_:1,__:[36]}),l($,{value:3},{default:t(()=>e[37]||(e[37]=[i("顶级",-1)])),_:1,__:[37]})]),_:1},8,["modelValue"])]),_:1}),l(I,{label:"背景颜色",prop:"backgroundColor"},{default:t(()=>[s("div",Va,[s("div",Ia,[s("div",Da,[e[38]||(e[38]=s("div",{class:"group-label"},"选择背景颜色",-1)),s("div",La,[(u(),m(ae,null,te(["#E3F2FD","#FFF3E0","#E8F5E8","#FCE4EC","#F3E5F5","#FFFDE7","#E0F7FA","#FFF8E1","#EFEBE9","#F1F8E9"],a=>s("div",{key:a,class:De(["color-option",{active:b.value.backgroundColor===a}]),style:O({backgroundColor:a}),onClick:C=>b.value.backgroundColor=a,title:a},null,14,xa)),64))])])]),b.value.backgroundColor?(u(),m("div",Ta,[e[40]||(e[40]=s("span",{class:"selected-label"},"已选择：",-1)),s("div",{class:"selected-color-preview",style:O({backgroundColor:b.value.backgroundColor}),title:b.value.backgroundColor},null,12,Sa),s("span",Na,v(b.value.backgroundColor),1),l(w,{size:"small",text:"",onClick:e[12]||(e[12]=a=>b.value.backgroundColor="")},{default:t(()=>e[39]||(e[39]=[i("清除",-1)])),_:1,__:[39]})])):h("",!0)])]),_:1}),l(I,{label:"备注信息",prop:"remark"},{default:t(()=>[l(z,{modelValue:b.value.remark,"onUpdate:modelValue":e[13]||(e[13]=a=>b.value.remark=a),type:"textarea",rows:3,placeholder:"请输入备注信息，如：优质美食博主",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(le,{modelValue:Y.value,"onUpdate:modelValue":e[15]||(e[15]=a=>Y.value=a),title:"播主信息",width:"600px","close-on-click-modal":!1},{footer:t(()=>{var a,C;return[l(w,{onClick:Oe},{default:t(()=>e[43]||(e[43]=[i("关闭",-1)])),_:1,__:[43]}),F.value&&((a=d.value)!=null&&a.userId)?(u(),k(w,{key:0,type:"warning",icon:V(wl),onClick:$e},{default:t(()=>e[44]||(e[44]=[i(" 编辑设置 ",-1)])),_:1,__:[44]},8,["icon"])):h("",!0),(C=d.value)!=null&&C.userId?(u(),k(w,{key:1,type:F.value?"danger":"primary",loading:U.value,onClick:Ge},{default:t(()=>[i(v(F.value?"取消收藏":"收藏播主"),1)]),_:1},8,["type","loading"])):h("",!0)]}),default:t(()=>{var a;return[Ie((u(),m("div",null,[d.value?(u(),m("div",Ua,[s("div",za,[l(n,{src:d.value.authorAvatar,size:80,class:"author-avatar"},{default:t(()=>[l(_,null,{default:t(()=>[l(V(Le))]),_:1})]),_:1},8,["src"]),s("div",Ba,[s("h3",null,v(d.value.nickname||"未知播主"),1),s("p",$a,v(d.value.userId||"N/A"),1),F.value&&g.value?(u(),m("div",Ma,[g.value.totalInvestmentAmount?(u(),k(S,{key:0,type:"success",size:"small",class:"info-tag investment-tag"},{default:t(()=>[i(" 投资总额: ¥"+v(be(g.value.totalInvestmentAmount)),1)]),_:1})):h("",!0),g.value.channelType?(u(),k(S,{key:1,type:"primary",size:"small",class:"info-tag"},{default:t(()=>[i(v(g.value.channelType),1)]),_:1})):h("",!0),g.value.authorLevel?(u(),k(S,{key:2,type:_e(g.value.authorLevel),size:"small",class:"info-tag"},{default:t(()=>[i(v(fe(g.value.authorLevel)),1)]),_:1},8,["type"])):h("",!0),g.value.backgroundColor?(u(),m("div",Oa,[s("div",{class:"color-indicator",style:O({backgroundColor:g.value.backgroundColor}),title:g.value.backgroundColor},null,12,Pa)])):h("",!0)])):h("",!0),s("div",Ra,[s("span",ja,[l(_,null,{default:t(()=>[l(V(Le))]),_:1}),i(" "+v(he(d.value.followerCount))+" 粉丝 ",1)]),s("span",qa,[l(_,null,{default:t(()=>[l(V(Ve))]),_:1}),i(" "+v(he(d.value.totalFavorited))+" 获赞 ",1)])])])]),d.value.userDesc||d.value.userUrl||F.value&&((a=g.value)!=null&&a.remark)?(u(),m("div",Ga,[l(tl,{column:1,border:""},{default:t(()=>{var C;return[d.value.userDesc?(u(),k(ce,{key:0,label:"播主描述"},{default:t(()=>[s("div",Ja,v(d.value.userDesc),1)]),_:1})):h("",!0),d.value.userUrl?(u(),k(ce,{key:1,label:"播主地址"},{default:t(()=>[l(al,{type:"primary",href:d.value.userUrl,target:"_blank",class:"author-link"},{default:t(()=>[i(v(d.value.userUrl),1)]),_:1},8,["href"])]),_:1})):h("",!0),F.value&&((C=g.value)!=null&&C.remark)?(u(),k(ce,{key:2,label:"备注信息"},{default:t(()=>[s("div",Wa,v(g.value.remark),1)]),_:1})):h("",!0)]}),_:1})])):h("",!0)])):Q.value?h("",!0):(u(),k(Ce,{key:1,description:"暂无播主信息"}))])),[[Ee,Q.value]])]}),_:1},8,["modelValue"]),l(le,{modelValue:H.value,"onUpdate:modelValue":e[20]||(e[20]=a=>H.value=a),title:"收藏播主设置",width:"500px","close-on-click-modal":!1},{footer:t(()=>[l(w,{onClick:ye},{default:t(()=>e[51]||(e[51]=[i("取消",-1)])),_:1,__:[51]}),l(w,{type:"primary",onClick:Ye,loading:U.value},{default:t(()=>e[52]||(e[52]=[i(" 确认收藏 ",-1)])),_:1,__:[52]},8,["loading"])]),default:t(()=>[l(de,{model:y.value,"label-width":"100px",rules:He,ref_key:"authorSettingFormRef",ref:ne},{default:t(()=>[l(I,{label:"播主昵称"},{default:t(()=>{var a;return[l(z,{value:((a=d.value)==null?void 0:a.nickname)||"",disabled:""},null,8,["value"])]}),_:1}),l(I,{label:"频道类型",prop:"channelType"},{default:t(()=>[l(B,{modelValue:y.value.channelType,"onUpdate:modelValue":e[16]||(e[16]=a=>y.value.channelType=a),placeholder:"请选择频道类型",style:{width:"100%"},clearable:"",filterable:"","allow-create":""},{default:t(()=>[l(r,{label:"美食",value:"美食"}),l(r,{label:"美妆",value:"美妆"}),l(r,{label:"时尚",value:"时尚"}),l(r,{label:"娱乐",value:"娱乐"}),l(r,{label:"音乐",value:"音乐"}),l(r,{label:"舞蹈",value:"舞蹈"}),l(r,{label:"游戏",value:"游戏"}),l(r,{label:"科技",value:"科技"}),l(r,{label:"教育",value:"教育"}),l(r,{label:"旅游",value:"旅游"}),l(r,{label:"汽车",value:"汽车"}),l(r,{label:"体育",value:"体育"}),l(r,{label:"生活",value:"生活"}),l(r,{label:"搞笑",value:"搞笑"}),l(r,{label:"知识",value:"知识"}),l(r,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),l(I,{label:"播主级别",prop:"authorLevel"},{default:t(()=>[l(we,{modelValue:y.value.authorLevel,"onUpdate:modelValue":e[17]||(e[17]=a=>y.value.authorLevel=a)},{default:t(()=>[l($,{value:1},{default:t(()=>e[45]||(e[45]=[i("普通",-1)])),_:1,__:[45]}),l($,{value:2},{default:t(()=>e[46]||(e[46]=[i("优质",-1)])),_:1,__:[46]}),l($,{value:3},{default:t(()=>e[47]||(e[47]=[i("顶级",-1)])),_:1,__:[47]})]),_:1},8,["modelValue"])]),_:1}),l(I,{label:"背景颜色",prop:"backgroundColor"},{default:t(()=>[s("div",Ha,[s("div",Ka,[s("div",Xa,[e[48]||(e[48]=s("div",{class:"group-label"},"选择背景颜色",-1)),s("div",Ya,[(u(),m(ae,null,te(["#E3F2FD","#FFF3E0","#E8F5E8","#FCE4EC","#F3E5F5","#FFFDE7","#E0F7FA","#FFF8E1","#EFEBE9","#F1F8E9"],a=>s("div",{key:a,class:De(["color-option",{active:y.value.backgroundColor===a}]),style:O({backgroundColor:a}),onClick:C=>y.value.backgroundColor=a,title:a},null,14,Qa)),64))])])]),y.value.backgroundColor?(u(),m("div",Za,[e[50]||(e[50]=s("span",{class:"selected-label"},"已选择：",-1)),s("div",{class:"selected-color-preview",style:O({backgroundColor:y.value.backgroundColor}),title:y.value.backgroundColor},null,12,et),s("span",lt,v(y.value.backgroundColor),1),l(w,{size:"small",text:"",onClick:e[18]||(e[18]=a=>y.value.backgroundColor="")},{default:t(()=>e[49]||(e[49]=[i("清除",-1)])),_:1,__:[49]})])):h("",!0)])]),_:1}),l(I,{label:"备注信息",prop:"remark"},{default:t(()=>[l(z,{modelValue:y.value.remark,"onUpdate:modelValue":e[19]||(e[19]=a=>y.value.remark=a),type:"textarea",rows:3,placeholder:"请输入备注信息，如：优质美食博主",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},_t=sl(at,[["__scopeId","data-v-e01b3091"]]);export{_t as default};
